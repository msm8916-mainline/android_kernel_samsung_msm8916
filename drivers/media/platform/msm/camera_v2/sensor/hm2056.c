/* Copyright (c) 2014, The Linux Foundation. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 */
#include "msm_sensor.h"
#include "msm_cci.h"
#include "msm_camera_io_util.h"
#define HM2056_SENSOR_NAME "hm2056"
#define PLATFORM_DRIVER_NAME "msm_camera_hm2056"

#define CONFIG_MSMB_CAMERA_DEBUG
//#define CDBUG
//#undef CDBG
#ifdef CONFIG_MSMB_CAMERA_DEBUG
#define CDBG(fmt, args...) pr_err(fmt, ##args)
#else
#define CDBG(fmt, args...) do { } while (0)
#endif

//#define effect 0

DEFINE_MSM_MUTEX(hm2056_mut);
static struct msm_sensor_ctrl_t hm2056_s_ctrl;

static struct msm_sensor_power_setting hm2056_power_setting[] = {
	{
		.seq_type = SENSOR_VREG,
		.seq_val = CAM_VANA,
		.config_val = 0,
		.delay = 0,
	},
	{
		.seq_type = SENSOR_VREG,
		.seq_val = CAM_VIO,
		.config_val = 0,
		.delay = 0,
	},
/*
	{
		.seq_type = SENSOR_GPIO,
		.seq_val = SENSOR_GPIO_STANDBY,
		.config_val = GPIO_OUT_HIGH,
		.delay = 0,
	},
*/
	{
		.seq_type = SENSOR_GPIO,
		.seq_val = SENSOR_GPIO_STANDBY,
		.config_val = GPIO_OUT_LOW,
		.delay = 5,
	},
	{
		.seq_type = SENSOR_GPIO,
		.seq_val = SENSOR_GPIO_RESET,
		.config_val = GPIO_OUT_LOW,
		.delay = 10,
	},

	{
		.seq_type = SENSOR_GPIO,
		.seq_val = SENSOR_GPIO_RESET,
		.config_val = GPIO_OUT_HIGH,
		.delay = 10,
	},
	{
		.seq_type = SENSOR_CLK,
		.seq_val = SENSOR_CAM_MCLK,
		.config_val = 23880000,
		.delay = 10,
	},
	{
		.seq_type = SENSOR_I2C_MUX,
		.seq_val = 0,
		.config_val = 0,
		.delay = 0,
	},
};

/* 1024 * 768 */
static struct msm_camera_i2c_reg_conf hm2056_1024_768_settings[] = {
	{0x0006,0x07},
	{0x000D,0x00},
	{0x000E,0x00},
	{0x000F,0x00},
	{0x0010,0x00},
	{0x0011,0x02},
	{0x0012,0x08},
	{0x0013,0x00},
	{0x002A,0x2F},//576Mhzbps
	{0x0040,0x20},
	{0x0070,0x5F},
	{0x0071,0x99},
	{0x0072,0x55},
	{0x0082,0xE2},
	{0x011F,0xFF},
	{0x0126,0x70},
	{0x0131,0xBC},
	{0x0144,0x04},
	{0x0190,0x87},
	{0x0192,0x50},
	{0x038F,0x09},//Min=
	{0x0390,0xB0},
	{0x03B7,0x8D},// AE Window
	{0x03B8,0x00},
	{0x03B9,0xFF},
	{0x03BA,0x00},
	{0x0541,0xBC},//60hz
	{0x0543,0xE1},//50hz
	{0x05E4,0x08},
	{0x05E5,0x00},
	{0x05E6,0x07},
	{0x05E7,0x04},
	{0x05E8,0x06},
	{0x05E9,0x00},
	{0x05EA,0x05},
	{0x05EB,0x03},
	{0x0B20,0xBE},
	{0x007c,0x17},//20121008
	{0x0000,0x01},
	{0x0100,0x01},
	{0x0101,0x01},
};
static struct msm_camera_i2c_reg_conf hm2056_svga_settings[] = {
	{0x0006,0x03},
	{0x000D,0x11},
	{0x000E,0x11},
	{0x000F,0x00},
	{0x0010,0x00},
	{0x0011,0x02},
	{0x0012,0x1C},
	{0x0013,0x01},
	{0x0020,0x08},
	{0x002A,0x1F},
	{0x0070,0x5F},
	{0x0071,0xFF},
	{0x0072,0x55},
	{0x0082,0xA2},
	{0x011F,0xF7},
	{0x0126,0x70},
	{0x0131,0xBD},
	{0x0144,0x06},
	{0x0190,0x80},
	{0x0192,0x48},
//	{0x0380,0xFE},  //Cifese
	{0x038F,0x09},//Min=10fps
	{0x0390,0xD0},
	{0x03B7,0xEA},// AE Window
	{0x03B8,0x00},
	{0x03B9,0x3A},
	{0x03BA,0x01},
	{0x0541,0x9D},//60hz
	{0x0543,0xBC},//50hz
	{0x05E4,0x05},	// 800x600
	{0x05E5,0x00},
	{0x05E6,0x24},
	{0x05E7,0x03},
	{0x05E8,0x08},
	{0x05E9,0x00},
	{0x05EA,0x5F},
	{0x05EB,0x02},
	{0x0B20,0xBE},
	{0x007c,0x17},
	{0x0000,0x01},
	{0x0100,0x01},
	{0x0101,0x01},
};
static struct msm_camera_i2c_reg_conf hm2056_720p_settings[] = {
	{0x0006,0x0B},
	{0x000D,0x00},
	{0x000E,0x00},
	{0x000F,0x00},
	{0x0010,0x00},
	{0x0011,0x02},
	{0x0012,0x08},
	{0x0013,0x00},
	{0x002A,0x2F},//576Mhzbps
	{0x0040,0x20},
	{0x0070,0x5F},
	{0x0071,0x99},
	{0x0072,0x55},
	{0x0082,0xE2},
	{0x011F,0xFF},
	{0x0126,0x70},
	{0x0131,0xBC},
	{0x0144,0x04},
	{0x0190,0x87},
	{0x0192,0x50},
	{0x038F,0x09},//Min=
	{0x0390,0xB0},
	{0x03B7,0x8D},// AE Window
	{0x03B8,0x00},
	{0x03B9,0xFF},
	{0x03BA,0x00},
	{0x0541,0xBC},//60hz
	{0x0543,0xE1},//50hz
	{0x05E4,0x08},
	{0x05E5,0x00},
	{0x05E6,0x07},
	{0x05E7,0x05},
	{0x05E8,0x06},
	{0x05E9,0x00},
	{0x05EA,0xD5},
	{0x05EB,0x02},
	{0x0B20,0xBE},
	{0x007c,0x17},//20121008
	{0x0000,0x01},
	{0x0100,0x01},
	{0x0101,0x01},
};
static struct msm_camera_i2c_reg_conf hm2056_uxga_settings[] = {
	{0x0006,0x03},
	{0x000D,0x00},
	{0x000E,0x00},
	{0x000F,0x00},
	{0x0010,0x00},
	{0x0011,0x02},
	{0x0012,0x04},
	{0x0013,0x00},
	{0x0020,0x00},
	{0x002A,0x2F},//576Mhzbps
	{0x0040,0x20},
	{0x0070,0x5F},
	{0x0071,0xAB},
	{0x0072,0x55},
	{0x0082,0xE2},
	{0x011F,0xFF},
	{0x0126,0x70},
	{0x0131,0xBC},
	{0x0144,0x04},
	{0x0190,0x87},
	{0x0192,0x50},
	{0x038F,0x05},//Min=
	{0x0390,0xD8},
	{0x03B7,0xEA},// AE Window
	{0x03B8,0x00},
	{0x03B9,0x3A},
	{0x03BA,0x01},
	{0x0541,0x9B},//60hz
	{0x0543,0xBA},//50hz
	{0x05E4,0x0A},
	{0x05E5,0x00},
	{0x05E6,0x49},
	{0x05E7,0x06},
	{0x05E8,0x0A},
	{0x05E9,0x00},
	{0x05EA,0xB9},
	{0x05EB,0x04},
	{0x0B20,0xBE},
	{0x007c,0x17},//20121008

	{0x0000,0x01},
	{0x0100,0x01},
	{0x0101,0x01},
};

static struct msm_camera_i2c_reg_conf hm2056_start_settings[] = {
	{0x0005,0x01},  /* streaming on */
};

static struct msm_camera_i2c_reg_conf hm2056_stop_settings[] = {
	{0x0005,0x00},  /* streaming off*/
};

/* 800x600 init setting */
static struct msm_camera_i2c_reg_conf hm2056_recommend_settings[] = {
	{0x0022,0x00},
	{0x0020,0x08},	// Enable Auto Frame Rate Control Mode
	{0x0023,0x00},	// Disable Parallel Interface
	{0x0025,0x00},
	{0x0026,0x87},
	{0x0027,0x30},
	{0x0028,0xC0},
	{0x002A,0x1F},
	{0x002C,0x0A},
	{0x0004,0x10},
	{0x0006,0x03},
	{0x000D,0x11},
	{0x000E,0x11},
	{0x000F,0x00},
	{0x0011,0x02},
	{0x0012,0x1C},
	{0x0013,0x01},
	{0x0015,0x02},
	{0x0016,0x80},
	{0x0018,0x00},
	{0x001D,0x40},
	{0x0040,0x20},
	{0x0053,0x0A},
	{0x0044,0x06},
	{0x0046,0xD8},
	{0x004A,0x0A},
	{0x004B,0x72},
	{0x0075,0x01},
	{0x0070,0x5F},
	{0x0071,0xFF},
	{0x0072,0x55},
	{0x0073,0x50},
	{0x0077,0x04},
	{0x0080,0xC8},
	{0x0082,0xA2},
	{0x0083,0xF0},
	{0x0085,0x11},
	{0x0086,0x02},
	{0x0087,0x80},
	{0x0088,0x6C},
	{0x0089,0x2E},
	{0x008A,0x6D},
	{0x008D,0x20},
	{0x0090,0x00},
	{0x0091,0x10},
	{0x0092,0x11},
	{0x0093,0x12},
	{0x0094,0x16},
	{0x0095,0x08},
	{0x0096,0x00},
	{0x0097,0x10},
	{0x0098,0x11},
	{0x0099,0x12},
	{0x009A,0x16},
	{0x009B,0x34},
	{0x00A0,0x00},
	{0x00A1,0x04},
	{0x011F,0xF7},
	{0x0120,0x36},
	{0x0121,0x83},
	{0x0122,0x7B},
	{0x0123,0xC2},
	{0x0124,0xDE},
	{0x0125,0xDF},//20121008
	{0x0126,0x70},
	{0x0128,0x1F},
	{0x0132,0x10},
	{0x0136,0x0A},
	{0x0131,0xBD},
	{0x0140,0x14},
	{0x0141,0x0A},
	{0x0142,0x14},
	{0x0143,0x0A},
	{0x0144,0x06},
	{0x0145,0x00},
	{0x0146,0x20},
	{0x0147,0x0A},
	{0x0148,0x10},
	{0x0149,0x0C},
	{0x014A,0x80},
	{0x014B,0x80},
	{0x014C,0x2E},
	{0x014D,0x2E},
	{0x014E,0x05},
	{0x014F,0x05},
	{0x0150,0x0D},
	{0x0155,0x00},
	{0x0156,0x10},
	{0x0157,0x0A},
	{0x0158,0x0A},
	{0x0159,0x0A},
	{0x015A,0x05},
	{0x015B,0x05},
	{0x015C,0x05},
	{0x015D,0x05},
	{0x015E,0x08},
	{0x015F,0xFF},
	{0x0160,0x50},
	{0x0161,0x20},
	{0x0162,0x14},
	{0x0163,0x0A},
	{0x0164,0x10},
	{0x0165,0x08},
	{0x0166,0x0A},
	{0x018C,0x24},
	{0x018D,0x04},
	{0x018E,0x00},
	{0x018F,0x11},
	{0x0190,0x80},
	{0x0191,0x47},
	{0x0192,0x48},
	{0x0193,0x64},
	{0x0194,0x32},
	{0x0195,0xc8},
	{0x0196,0x96},
	{0x0197,0x64},
	{0x0198,0x32},
	{0x0199,0x14},
	{0x019A,0x20},
	{0x019B,0x14},
	{0x01BA,0x10},
	{0x01BB,0x04},
	{0x01D8,0x40},
	{0x01DE,0x60},
	{0x01E4,0x10},
	{0x01E5,0x10},
	{0x01F2,0x10},	//141008 for noise
	{0x01F3,0x20},	//141008 for noise
	{0x01F8,0x0B},	//141008 for noise
	{0x01F9,0x1C},	//141008 for noise
	{0x01FE,0x09},	//141008 for noise
	{0x01FF,0x10},	//141008 for noise
	{0x0220,0x00},	//141003 LSC
	{0x0221,0x8A},
	{0x0222,0x04},
	{0x0223,0x80},
	{0x0224,0xF0},
	{0x0225,0x00},
	{0x0226,0x83},
	{0x0227,0xFF},
	{0x0229,0xFF},
	{0x022A,0xC2},	//141009 for face tone
	{0x022B,0x36},
	{0x022C,0x88},
	{0x022D,0x12},
	{0x022E,0x0B},
	{0x022F,0x13},
	{0x0230,0x0B},
	{0x0231,0xFF},
	{0x0233,0x13},
	{0x0234,0x0B},
	{0x0235,0x14},
	{0x0236,0x03},
	{0x0237,0x14},
	{0x0238,0x03},
	{0x023B,0x14},
	{0x023C,0x03},
	{0x023D,0x5C},
	{0x023E,0x02},
	{0x023F,0x5C},
	{0x0240,0x02},
	{0x0243,0x5C},
	{0x0244,0x02},
	{0x0251,0x0E},
	{0x0252,0x0E},
	{0x0280,0x0A},	//140919 Gamma
	{0x0282,0x14},
	{0x0284,0x2A},
	{0x0286,0x50},
	{0x0288,0x60},
	{0x028A,0x6D},
	{0x028C,0x79},
	{0x028E,0x82},
	{0x0290,0x8A},
	{0x0292,0x91},
	{0x0294,0x9C},
	{0x0296,0xA7},
	{0x0298,0xBA},
	{0x029A,0xCA},
	{0x029C,0xDD},
	{0x029E,0x31},
	{0x02A0,0x08},
	{0x02E0,0x08},
	{0x02C0,0xB1},
	{0x02C1,0x01},   //20141029 CCM test3
	{0x02C2,0x7D},
	{0x02C3,0x07},
	{0x02C4,0xD2},
	{0x02C5,0x07},
	{0x02C6,0xC4},
	{0x02C7,0x07},
	{0x02C8,0x79},
	{0x02C9,0x01},
	{0x02CA,0xC4},
	{0x02CB,0x07},
	{0x02CC,0xF7},
	{0x02CD,0x07},
	{0x02CE,0x3B},
	{0x02CF,0x07},
	{0x02D0,0xCF},
	{0x02D1,0x01},
	{0x0302,0x00},
	{0x0303,0x00},
	{0x0304,0x00},
	{0x02F0,0x7D},
	{0x02F1,0x07},
	{0x02F2,0xA6},
	{0x02F3,0x00},
	{0x02F4,0xF9},
	{0x02F5,0x07},
	{0x02F6,0xA3},
	{0x02F7,0x07},
	{0x02F8,0x38},
	{0x02F9,0x00},
	{0x02FA,0x25},
	{0x02FB,0x00},
	{0x02FC,0x91},
	{0x02FD,0x07},
	{0x02FE,0x8D},
	{0x02FF,0x07},
	{0x0300,0xE3},
	{0x0301,0x00},
	{0x0305,0x00},
	{0x0306,0x00},
	{0x0307,0x7A},
	{0x032D,0x00},
	{0x032E,0x01},
	{0x032F,0x00},
	{0x0330,0x01},
	{0x0331,0x00},
	{0x0332,0x01},
	{0x0333,0x00},	//8D 141029
	{0x0334,0x00},	//05
	{0x0335,0x00},	//86 
	{0x0336,0x00},
	{0x0337,0x01},
	{0x0338,0x00},
	{0x0339,0x01},
	{0x033A,0x00},
	{0x033B,0x01},
	{0x0340,0x30},
	{0x0341,0x44},
	{0x0342,0x4A},
	{0x0343,0x42},
	{0x0344,0x74},
	{0x0345,0x4F},
	{0x0346,0x67},
	{0x0347,0x5C},
	{0x0348,0x59},
	{0x0349,0x67},
	{0x034A,0x4D},
	{0x034B,0x6E},
	{0x034C,0x44},
	{0x0350,0x80},
	{0x0351,0x80},
	{0x0352,0x18},
	{0x0353,0x18},
	{0x0354,0x6E},
	{0x0355,0x4A},
	{0x0356,0x86},
	{0x0357,0xCA},
	{0x0358,0x06},
	{0x035A,0x06},
	{0x035B,0xA0},
	{0x035C,0x73},
	{0x035D,0x70},	//140919 for out door B gain
	{0x035E,0xC0},
	{0x035F,0xA0},
	{0x0360,0x02},
	{0x0361,0x18},
	{0x0362,0x80},
	{0x0363,0x6C},
	{0x0364,0x00},
	{0x0365,0xF0},
	{0x0366,0x20},
	{0x0367,0x0C},
	{0x0369,0x00},
	{0x036A,0x10},
	{0x036B,0x10},
	{0x036E,0x20},
	{0x036F,0x00},
	{0x0370,0x10},
	{0x0371,0x18},
	{0x0372,0x0C},
	{0x0373,0x38},
	{0x0374,0x3A},
	{0x0375,0x13},
	{0x0376,0x22},
	{0x0380,0xFF},
	{0x0381,0x46},
	{0x0382,0x32},
	{0x038A,0x40},
	{0x038B,0x08},
	{0x038C,0xC1},
	{0x038E,0x45},	//140919
	{0x0381, 0x4B},
	{0x0382, 0x3F},
	{0x038F,0x04},	//140925 15fps for CAP
	{0x0390,0xE0},	// 0xD8
	{0x0391,0x03},
	{0x0393,0xF0},
	{0x0395,0x21},

/* AE setting */
	{0x0398,0x02},
	{0x0399,0x84},	// 30fps
	{0x039A,0x03},
	{0x039B,0x25},	// 24fps
	{0x039C,0x03},
	{0x039D,0x25},	// 20fps
	{0x039E,0x03},
	{0x039F,0x25},	// 20fps
	{0x03A0,0x03},
	{0x03A1,0x25},	// 20fps
	{0x03A2,0x03},
	{0x03A3,0x25},	// 20fps
	{0x03A4,0x03},
	{0x03A5,0x25},	// 20fps
	{0x03A6,0x9A},	// TH12
	{0x03A7,0xB2},	// TH23
	{0x03A8,0xB4},	// TH34
	{0x03A9,0xB6},	// TH45
	{0x03AA,0xB8},	// TH56
	{0x03AB,0xBA},	// TH67
	{0x03AC,0xBA},	// TH76
	{0x03AD,0xB8},	// TH65
	{0x03AE,0xB6},	// TH54
	{0x03AF,0xB4},	// TH43
	{0x03B0,0xB2},	// TH32
	{0x03B1,0x9A},	// TH21

	{0x03B3,0x10},
	{0x03B4,0x00},
	{0x03B5,0x10},
	{0x03B6,0x00},
	{0x03B7,0xEA},
	{0x03B8,0x00},
	{0x03B9,0x3A},
	{0x03BA,0x01},
	{0x03BB,0x9F},
	{0x03BC,0xCF},
	{0x03BD,0xE7},
	{0x03BE,0xF3},
	{0x03BF,0x01},
	{0x03D0,0xF8},
	{0x03E0,0x04},
	{0x03E1,0x01},
	{0x03E2,0x04},
	{0x03E4,0x10},
	{0x03E5,0x12},
	{0x03E6,0x00},
	{0x03E8,0x21},
	{0x03E9,0x23},
	{0x03EA,0x01},
	{0x03EC,0x21},
	{0x03ED,0x23},
	{0x03EE,0x01},
	{0x03F0,0x20},
	{0x03F1,0x22},
	{0x03F2,0x00},
	{0x0420,0x84},
	{0x0421,0x00},
	{0x0422,0x00},
	{0x0423,0x82},	//141015 for blue color shift
	{0x0430,0x08},
	{0x0431,0x20},
	{0x0432,0x10},
	{0x0433,0x08},
	{0x0435,0x0C},
	{0x0450,0xFF},
	{0x0451,0xE8},
	{0x0452,0xC4},
	{0x0453,0x78},
	{0x0454,0x20},
	{0x0458,0x70},
	{0x0459,0x03},
	{0x045A,0x00},
	{0x045B,0x28},	//CCM by Alpha, 141016
	{0x045C,0x00},
	{0x045D,0xC0},  //CCM by Alpha, 141016
	{0x0466,0x14},
	{0x047A,0x00},
	{0x047B,0x00},
	{0x0480,0x6A},	//20141020 SAT 0x60->0x52 for color noise
	{0x0481,0x06},	//141009 SAT low light 0x0C->0x06 for color noise
	{0x0482,0x06},
/*
	{0x0480,0x5C},
	{0x0481,0x06},
	{0x0482,0x0C},
*/
	{0x04B0,0x54},
	{0x04B6,0x30},
	{0x04B9,0x10},
	{0x04B3,0x08},
	{0x04B1,0x00},	// 140919 Contrast
	{0x04B4,0x00},
	{0x0540,0x00},
	{0x0541,0x9D},
	{0x0542,0x00},
	{0x0543,0xBC},
	{0x0580,0x04},	//141008 for noise
	{0x0581,0x0F},
	{0x0582,0x04},
	{0x0594,0x00},	//141016 for face tone
	{0x0595,0x04},
	{0x05A9,0x03},
	{0x05AA,0x40},
	{0x05AB,0x80},
	{0x05AC,0x0A},
	{0x05AD,0x10},
	{0x05AE,0x0C},
	{0x05AF,0x0C},
	{0x05B0,0x03},
	{0x05B1,0x03},
	{0x05B2,0x1C},
	{0x05B3,0x02},
	{0x05B4,0x00},
	{0x05B5,0x0C},
	{0x05B8,0x80},
	{0x05B9,0x32},
	{0x05BA,0x00},
	{0x05BB,0x80},
	{0x05BC,0x03},
	{0x05BD,0x00},
	{0x05BF,0x05},
	{0x05C0,0x10},
	{0x05C3,0x00},
	{0x05C4,0x0C},
	{0x05C5,0x20},
	{0x05C7,0x01},
	{0x05C8,0x14},
	{0x05C9,0x54},
	{0x05CA,0x14},
	{0x05CB,0xE0},
	{0x05CC,0x20},
	{0x05CD,0x00},
	{0x05CE,0x08},
	{0x05CF,0x60},
	{0x05D0,0x10},
	{0x05D1,0x05},
	{0x05D2,0x03},
	{0x05D4,0x00},
	{0x05D5,0x05},
	{0x05D6,0x05},
	{0x05D7,0x05},
	{0x05D8,0x08},
	{0x05DC,0x0C},
	{0x05D9,0x00},
	{0x05DB,0x00},
	{0x05DD,0x0F},
	{0x05DE,0x00},
	{0x05DF,0x0A},
	{0x05E0,0xA0},
	{0x05E1,0x00},
	{0x05E2,0xA0},
	{0x05E3,0x00},
	{0x05E4,0x05},	// 800x600
	{0x05E5,0x00},
	{0x05E6,0x24},
	{0x05E7,0x03},
	{0x05E8,0x08},
	{0x05E9,0x00},
	{0x05EA,0x5F},
	{0x05EB,0x02},
	{0x0660,0x04},
	{0x0661,0x16},
	{0x0662,0x04},
	{0x0663,0x28},
	{0x0664,0x04},
	{0x0665,0x18},
	{0x0666,0x04},
	{0x0667,0x21},
	{0x0668,0x04},
	{0x0669,0x0C},
	{0x066A,0x04},
	{0x066B,0x25},
	{0x066C,0x00},
	{0x066D,0x12},
	{0x066E,0x00},
	{0x066F,0x80},
	{0x0670,0x00},
	{0x0671,0x0A},
	{0x0672,0x04},
	{0x0673,0x1D},
	{0x0674,0x04},
	{0x0675,0x1D},
	{0x0676,0x00},
	{0x0677,0x7E},
	{0x0678,0x01},
	{0x0679,0x47},
	{0x067A,0x00},
	{0x067B,0x73},
	{0x067C,0x04},
	{0x067D,0x14},
	{0x067E,0x04},
	{0x067F,0x28},
	{0x0680,0x00},
	{0x0681,0x22},
	{0x0682,0x00},
	{0x0683,0xA5},
	{0x0684,0x00},
	{0x0685,0x1E},
	{0x0686,0x04},
	{0x0687,0x1D},
	{0x0688,0x04},
	{0x0689,0x19},
	{0x068A,0x04},
	{0x068B,0x21},
	{0x068C,0x04},
	{0x068D,0x0A},
	{0x068E,0x04},
	{0x068F,0x25},
	{0x0690,0x04},
	{0x0691,0x15},
	{0x0698,0x20},
	{0x0699,0x20},
	{0x069A,0x01},
	{0x069C,0x22},
	{0x069D,0x10},
	{0x069E,0x15},
	{0x069F,0x08},
	{0x0B20,0xBE},
	{0x007c,0x17},//20121008
	{0x0B02,0x04},
	{0x0B07,0x25},
	{0x0B0E,0x1D},
	{0x0B0F,0x07},
	{0x0B22,0x02},
	{0x0B39,0x03},
	{0x0B11,0x7F},
	{0x0B12,0x7F},
	{0x0B17,0xE0},
	{0x0B30,0x0F},
	{0x0B31,0x02},
	{0x0B32,0x00},
	{0x0B33,0x00},
	{0x0B39,0x0F},
	{0x0B3B,0x12},
	{0x0B3F,0x01},
	{0x0024,0x40},
	{0x0000,0x01},
	{0x0100,0x01},
	{0x0101,0x01}
};
/* 1024 x 768 */
#if 0
/*
static struct msm_camera_i2c_reg_conf hm2056_recommend_settings[] = {
{0x0022 ,0x00},
{0x0020 ,0x00},
{0x0023 ,0x00},	// Disable Parallel Interface
{0x0025 ,0x00},
{0x0026 ,0x87},
{0x0027 ,0x30},
{0x0028 ,0xC0},
{0x002A ,0x2F},
{0x002C ,0x0A},
{0x0004 ,0x10},
{0x0006 ,0x04},
{0x000D ,0x00},
{0x000E ,0x00},
{0x000F ,0x00},
{0x0011 ,0x02},
{0x0012 ,0x08},
{0x0013 ,0x00},
{0x0015 ,0x02},
{0x0016 ,0x80},
{0x0018 ,0x00},
{0x001D ,0x40},
{0x0040 ,0x20},
{0x0053 ,0x0A},
{0x0044 ,0x06},
{0x0046 ,0xD8},
{0x004A ,0x0A},
{0x004B ,0x72},
{0x0075 ,0x01},
{0x0070 ,0x5F},
{0x0071 ,0x99},
{0x0072 ,0x55},
{0x0073 ,0x50},
{0x0077 ,0x04},
{0x0080 ,0xC8},
{0x0082 ,0xE2},
{0x0083 ,0xF0},
{0x0085 ,0x11},
{0x0086 ,0x02},
{0x0087 ,0x80},
{0x0088 ,0x6C},
{0x0089 ,0x2E},
{0x008A ,0x6D},
{0x008D ,0x20},
{0x0090 ,0x00},
{0x0091 ,0x10},
{0x0092 ,0x11},
{0x0093 ,0x12},
{0x0094 ,0x16},
{0x0095 ,0x08},
{0x0096 ,0x00},
{0x0097 ,0x10},
{0x0098 ,0x11},
{0x0099 ,0x12},
{0x009A ,0x16},
{0x009B ,0x34},
{0x00A0 ,0x00},
{0x00A1 ,0x04},
{0x011F ,0xFF},
{0x0120 ,0x36},
{0x0121 ,0x83},
{0x0122 ,0x7B},
{0x0123 ,0xC2},
{0x0124 ,0xDE},
{0x0125 ,0xDF},
{0x0126 ,0x70},
{0x0128 ,0x1F},
{0x0132 ,0x10},
{0x0136 ,0x0A},
{0x0131 ,0xBC},
{0x0140 ,0x14},
{0x0141 ,0x0A},
{0x0142 ,0x14},
{0x0143 ,0x0A},
{0x0144 ,0x04},
{0x0145 ,0x00},
{0x0146 ,0x20},
{0x0147 ,0x0A},
{0x0148 ,0x10},
{0x0149 ,0x0C},
{0x014A ,0x80},
{0x014B ,0x80},
{0x014C ,0x2E},
{0x014D ,0x2E},
{0x014E ,0x05},
{0x014F ,0x05},
{0x0150 ,0x0D},
{0x0155 ,0x00},
{0x0156 ,0x10},
{0x0157 ,0x0A},
{0x0158 ,0x0A},
{0x0159 ,0x0A},
{0x015A ,0x05},
{0x015B ,0x05},
{0x015C ,0x05},
{0x015D ,0x05},
{0x015E ,0x08},
{0x015F ,0xFF},
{0x0160 ,0x50},
{0x0161 ,0x20},
{0x0162 ,0x14},
{0x0163 ,0x0A},
{0x0164 ,0x10},
{0x0165 ,0x08},
{0x0166 ,0x0A},
{0x018C ,0x24},
{0x018D ,0x04},
{0x018E ,0x00},
{0x018F ,0x11},
{0x0190 ,0x87},
{0x0191 ,0x47},
{0x0192 ,0x50},
{0x0193 ,0x64},
{0x0194 ,0x32},
{0x0195 ,0xc8},
{0x0196 ,0x96},
{0x0197 ,0x64},
{0x0198 ,0x32},
{0x0199 ,0x14},
{0x019A ,0x20},
{0x019B ,0x14},
{0x01BA ,0x10},
{0x01BB ,0x04},
{0x01D8 ,0x40},
{0x01DE ,0x60},
{0x01E4 ,0x10},
{0x01E5 ,0x10},
{0x01F2 ,0x0F},	//140919 Bayer Denoise
{0x01F3 ,0x1B},
{0x01F8 ,0x07},
{0x01F9 ,0x19},
{0x01FE ,0x05},
{0x01FF ,0x0C},
{0x0220 ,0x00},
{0x0221 ,0xB0},
{0x0222 ,0x00},
{0x0223 ,0x80},
{0x0224 ,0x8E},
{0x0225 ,0x00},
{0x0226 ,0x88},
{0x022A ,0x88},
{0x022B ,0x00},
{0x022C ,0x8C},
{0x022D ,0x13},
{0x022E ,0x0B},
{0x022F ,0x13},
{0x0230 ,0x0B},
{0x0233 ,0x13},
{0x0234 ,0x0B},
{0x0235 ,0x28},
{0x0236 ,0x03},
{0x0237 ,0x28},
{0x0238 ,0x03},
{0x023B ,0x28},
{0x023C ,0x03},
{0x023D ,0x5C},
{0x023E ,0x02},
{0x023F ,0x5C},
{0x0240 ,0x02},
{0x0243 ,0x5C},
{0x0244 ,0x02},
{0x0251 ,0x0E},
{0x0252 ,0x00},
{0x0280 ,0x0A},
{0x0282 ,0x14},
{0x0284 ,0x2A},
{0x0286 ,0x50},
{0x0288 ,0x60},
{0x028A ,0x6D},
{0x028C ,0x79},
{0x028E ,0x82},
{0x0290 ,0x8A},
{0x0292 ,0x91},
{0x0294 ,0x9C},
{0x0296 ,0xA7},
{0x0298 ,0xBA},
{0x029A ,0xCD},
{0x029C ,0xE0},
{0x029E ,0x2D},
{0x02A0 ,0x06},
{0x02E0 ,0x04},
{0x02C0 ,0x8F},
{0x02C1 ,0x01},
{0x02C2 ,0x8F},
{0x02C3 ,0x07},
{0x02C4 ,0xE3},
{0x02C5 ,0x07},
{0x02C6 ,0xC1},
{0x02C7 ,0x07},
{0x02C8 ,0x70},
{0x02C9 ,0x01},
{0x02CA ,0xD0},
{0x02CB ,0x07},
{0x02CC ,0xF7},
{0x02CD ,0x07},
{0x02CE ,0x5A},
{0x02CF ,0x07},
{0x02D0 ,0xB0},
{0x02D1 ,0x01},
{0x0302 ,0x00},
{0x0303 ,0x00},
{0x0304 ,0x00},
{0x02F0 ,0x80},
{0x02F1 ,0x07},
{0x02F2 ,0x8E},
{0x02F3 ,0x00},
{0x02F4 ,0xF2},
{0x02F5 ,0x07},
{0x02F6 ,0xCC},
{0x02F7 ,0x07},
{0x02F8 ,0x16},
{0x02F9 ,0x00},
{0x02FA ,0x1E},
{0x02FB ,0x00},
{0x02FC ,0x9D},
{0x02FD ,0x07},
{0x02FE ,0xA6},
{0x02FF ,0x07},
{0x0300 ,0xBD},
{0x0301 ,0x00},
{0x0305 ,0x00},
{0x0306 ,0x00},
{0x0307 ,0x00},
{0x032D ,0x00},
{0x032E ,0x01},
{0x032F ,0x00},
{0x0330 ,0x01},
{0x0331 ,0x00},
{0x0332 ,0x01},
{0x0333 ,0x82},
{0x0334 ,0x00},
{0x0335 ,0x84},
{0x0336 ,0x00},
{0x0337 ,0x01},
{0x0338 ,0x00},
{0x0339 ,0x01},
{0x033A ,0x00},
{0x033B ,0x01},
{0x0340 ,0x30},
{0x0341 ,0x44},
{0x0342 ,0x4A},
{0x0343 ,0x42},
{0x0344 ,0x74},
{0x0345 ,0x4F},
{0x0346 ,0x67},
{0x0347 ,0x5C},
{0x0348 ,0x59},
{0x0349 ,0x67},
{0x034A ,0x4D},
{0x034B ,0x6E},
{0x034C ,0x44},
{0x0350 ,0x80},
{0x0351 ,0x80},
{0x0352 ,0x18},
{0x0353 ,0x18},
{0x0354 ,0x6E},
{0x0355 ,0x4A},
{0x0356 ,0x86},
{0x0357 ,0xCA},
{0x0358 ,0x06},
{0x035A ,0x06},
{0x035B ,0xA0},
{0x035C ,0x73},
{0x035D ,0x50},
{0x035E ,0xC0},
{0x035F ,0xA0},
{0x0360 ,0x02},
{0x0361 ,0x18},
{0x0362 ,0x80},
{0x0363 ,0x6C},
{0x0364 ,0x00},
{0x0365 ,0xF0},
{0x0366 ,0x20},
{0x0367 ,0x0C},
{0x0369 ,0x00},
{0x036A ,0x10},
{0x036B ,0x10},
{0x036E ,0x20},
{0x036F ,0x00},
{0x0370 ,0x10},
{0x0371 ,0x18},
{0x0372 ,0x0C},
{0x0373 ,0x38},
{0x0374 ,0x3A},
{0x0375 ,0x13},
{0x0376 ,0x22},
{0x0380 ,0xFF},
{0x0381 ,0x46},
{0x0382 ,0x32},
{0x038A ,0x40},
{0x038B ,0x08},
{0x038C ,0xC1},
{0x038E ,0x3C},
{0x038F ,0x09},
{0x0390 ,0xD0},
{0x0391 ,0x05},
{0x0393 ,0x80},
{0x0395 ,0x21},
{0x0398 ,0x02},
{0x0399 ,0x84},
{0x039A ,0x03},
{0x039B ,0x25},
{0x039C ,0x03},
{0x039D ,0xC6},
{0x039E ,0x05},
{0x039F ,0x08},
{0x03A0 ,0x06},
{0x03A1 ,0x4A},
{0x03A2 ,0x07},
{0x03A3 ,0x8C},
{0x03A4 ,0x0A},
{0x03A5 ,0x10},
{0x03A6 ,0x0C},
{0x03A7 ,0x0E},
{0x03A8 ,0x10},
{0x03A9 ,0x18},
{0x03AA ,0x20},
{0x03AB ,0x28},
{0x03AC ,0x1E},
{0x03AD ,0x1A},
{0x03AE ,0x13},
{0x03AF ,0x0C},
{0x03B0 ,0x0B},
{0x03B1 ,0x09},
{0x03B3 ,0x10},
{0x03B4 ,0x00},
{0x03B5 ,0x10},
{0x03B6 ,0x00},
{0x03B7 ,0xEA},
{0x03B8 ,0x00},
{0x03B9 ,0x3A},
{0x03BA ,0x01},
{0x03BB ,0x9F},
{0x03BC ,0xCF},
{0x03BD ,0xE7},
{0x03BE ,0xF3},
{0x03BF ,0x01},
{0x03D0 ,0xF8},
{0x03E0 ,0x04},
{0x03E1 ,0x01},
{0x03E2 ,0x04},
{0x03E4 ,0x10},
{0x03E5 ,0x12},
{0x03E6 ,0x00},
{0x03E8 ,0x21},
{0x03E9 ,0x23},
{0x03EA ,0x01},
{0x03EC ,0x21},
{0x03ED ,0x23},
{0x03EE ,0x01},
{0x03F0 ,0x20},
{0x03F1 ,0x22},
{0x03F2 ,0x00},
{0x0420 ,0x84},
{0x0421 ,0x00},
{0x0422 ,0x00},
{0x0423 ,0x83},
{0x0430 ,0x08},
{0x0431 ,0x28},
{0x0432 ,0x10},
{0x0433 ,0x08},
{0x0435 ,0x0C},
{0x0450 ,0xFF},
{0x0451 ,0xE8},
{0x0452 ,0xC4},
{0x0453 ,0x88},
{0x0454 ,0x00},
{0x0458 ,0x70},
{0x0459 ,0x03},
{0x045A ,0x00},	//140919 CT Threshold
{0x045B ,0x09},
{0x045C ,0x00},
{0x045D ,0x90},
{0x0466 ,0x14},
{0x047A ,0x00},
{0x047B ,0x00},
{0x0480 ,0x5C},
{0x0481 ,0x06},
{0x0482 ,0x0C},
{0x04B0 ,0x54},
{0x04B6 ,0x30},	//140919 Contrast
{0x04B9 ,0x10},
{0x04B3 ,0x08},
{0x04B1 ,0x8E},
{0x04B4 ,0x20},
{0x0540 ,0x00},
{0x0541 ,0x9D},
{0x0542 ,0x00},
{0x0543 ,0xBC},
{0x0580 ,0x01},
{0x0581 ,0x0F},
{0x0582 ,0x04},
{0x0594 ,0x14},	//140919 UV Gray
{0x0595 ,0x30},
{0x05A9 ,0x03},
{0x05AA ,0x40},
{0x05AB ,0x80},
{0x05AC ,0x0A},
{0x05AD ,0x10},
{0x05AE ,0x0C},
{0x05AF ,0x0C},
{0x05B0 ,0x03},
{0x05B1 ,0x03},
{0x05B2 ,0x1C},
{0x05B3 ,0x02},
{0x05B4 ,0x00},
{0x05B5 ,0x0C},
#ifdef effect
{0x05B8 ,0x80},
{0x05B9 ,0x32},
{0x05BA ,0x00},
{0x05BB ,0x80},
{0x05BC ,0x03},
{0x05BD ,0x00},
{0x05BF ,0x05},
{0x05C0 ,0x10},
{0x05C3 ,0x00},
{0x05C4 ,0x0C},
{0x05C5 ,0x20},
{0x05C7 ,0x01},
{0x05C8 ,0x14},
{0x05C9 ,0x54},
{0x05CA ,0x14},
{0x05CB ,0xE0},
{0x05CC ,0x20},
{0x05CD ,0x00},
{0x05CE ,0x08},
{0x05CF ,0x60},
{0x05D0 ,0x10},
{0x05D1 ,0x05},
{0x05D2 ,0x03},
{0x05D4 ,0x00},
{0x05D5 ,0x05},
{0x05D6 ,0x05},
{0x05D7 ,0x05},
{0x05D8 ,0x08},
{0x05DC ,0x0C},
{0x05D9 ,0x00},
{0x05DB ,0x00},
{0x05DD ,0x0F},
{0x05DE ,0x00},
{0x05DF ,0x0A},
{0x05E0 ,0xA0},
{0x05E1 ,0x00},
{0x05E2 ,0xA0},
{0x05E3 ,0x00},
{0x05E4 ,0x08},
{0x05E5 ,0x00},
{0x05E6 ,0x07},
{0x05E7 ,0x04},
{0x05E8 ,0x06},
{0x05E9 ,0x00},
{0x05EA ,0x05},
{0x05EB ,0x03},
{0x0660 ,0x04},
{0x0661 ,0x16},
{0x0662 ,0x04},
{0x0663 ,0x28},
{0x0664 ,0x04},
{0x0665 ,0x18},
{0x0666 ,0x04},
{0x0667 ,0x21},
{0x0668 ,0x04},
{0x0669 ,0x0C},
{0x066A ,0x04},
{0x066B ,0x25},
{0x066C ,0x00},
{0x066D ,0x12},
{0x066E ,0x00},
{0x066F ,0x80},
{0x0670 ,0x00},
{0x0671 ,0x0A},
{0x0672 ,0x04},
{0x0673 ,0x1D},
{0x0674 ,0x04},
{0x0675 ,0x1D},
{0x0676 ,0x00},
{0x0677 ,0x7E},
#ifdef effect
{0x0678 ,0x01},
{0x0679 ,0x47},
{0x067A ,0x00},
{0x067B ,0x73},
{0x067C ,0x04},
{0x067D ,0x14},
{0x067E ,0x04},
{0x067F ,0x28},
{0x0680 ,0x00},
{0x0681 ,0x22},
{0x0682 ,0x00},
{0x0683 ,0xA5},
{0x0684 ,0x00},
{0x0685 ,0x1E},
{0x0686 ,0x04},
{0x0687 ,0x1D},
{0x0688 ,0x04},
{0x0689 ,0x19},
{0x068A ,0x04},
{0x068B ,0x21},
{0x068C ,0x04},
{0x068D ,0x0A},
{0x068E ,0x04},
{0x068F ,0x25},
{0x0690 ,0x04},
{0x0691 ,0x15},
{0x0698 ,0x20},
{0x0699 ,0x20},
{0x069A ,0x01},
{0x069C ,0x22},
{0x069D ,0x10},
{0x069E ,0x10},
{0x069F ,0x08},
{0x0B20 ,0xBE},
{0x007c ,0x17},
{0x0B02 ,0x04},
{0x0B07 ,0x25},
{0x0B0E ,0x1D},
{0x0B0F ,0x07},
{0x0B22 ,0x02},
{0x0B39 ,0x03},
{0x0B11 ,0x7F},
{0x0B12 ,0x7F},
{0x0B17 ,0xE0},
{0x0B30 ,0x0F},
{0x0B31 ,0x02},
{0x0B32 ,0x00},
{0x0B33 ,0x00},
{0x0B39 ,0x0F},
{0x0B3B ,0x12},
{0x0B3F ,0x01},
{0x0024 ,0x40},
{0x0000 ,0x01},
{0x0100 ,0x01},
{0x0101 ,0x01},
};
*/
#endif
/* 720p init setting */
/*
static struct msm_camera_i2c_reg_conf hm2056_recommend_settings[] = {
	{0x0005,0x00},
	{0x0022,0x00},
	{0x0020,0x00},
	{0x0024,0x00},
	{0x0023,0x00},
	{0x0027,0x30},
	{0x0028,0xC0},
	{0x0026,0x87},
	{0x002A,0x2F},
	{0x002B,0x00},
	{0x002C,0x0A},
	{0x0025,0x00},
	{0x0004,0x10},
	{0x0006,0x08},
	{0x000D,0x00},
	{0x000E,0x00},
	{0x000F,0x00},
	{0x0011,0x02},
	{0x0012,0x08},
	{0x0013,0x00},
	{0x0040,0x20},
	{0x0053,0x0A},
	{0x0044,0x06},
	{0x0046,0xD8},
	{0x004A,0x0A},
	{0x004B,0x72},
	{0x0075,0x01},
	{0x0070,0x5F},
	{0x0071,0x99},
	{0x0072,0x55},
	{0x0073,0x50},

	{0x0080,0xC8},
	{0x0082,0xE2},
	{0x0083,0xF0},
	{0x0085,0x11},
	{0x0086,0x02},
	{0x0087,0x80},
	{0x0088,0x6C},
	{0x0089,0x2E},
	{0x008A,0x6D},
	{0x008D,0x20},
	{0x0090,0x00},
	{0x0091,0x10},
	{0x0092,0x11},
	{0x0093,0x12},
	{0x0094,0x16},
	{0x0095,0x08},
	{0x0096,0x00},
	{0x0097,0x10},
	{0x0098,0x11},
	{0x0099,0x12},
	{0x009A,0x16},
	{0x009B,0x34},
	{0x00A0,0x00},
	{0x00A1,0x04},
	{0x011F,0xFF},
	{0x0120,0x36},
	{0x0121,0x83},
	{0x0122,0x7B},
	{0x0123,0xC2},
	{0x0124,0xDE},
	{0x0125,0xDF},//20121008
	{0x0126,0x70},
	{0x0128,0x1F},
	{0x0132,0x10},
	{0x0136,0x0A},
	{0x0131,0xBC},
	{0x0140,0x14},
	{0x0141,0x0A},
	{0x0142,0x14},
	{0x0143,0x0A},
	{0x0144,0x04},
	{0x0145,0x00},
	{0x0146,0x20},
	{0x0147,0x0A},
	{0x0148,0x10},
	{0x0149,0x0C},
	{0x014A,0x80},
	{0x014B,0x80},
	{0x014C,0x2E},
	{0x014D,0x2E},
	{0x014E,0x05},
	{0x014F,0x05},
	{0x0150,0x0D},
	{0x0155,0x00},
	{0x0156,0x10},
	{0x0157,0x0A},
	{0x0158,0x0A},
	{0x0159,0x0A},
	{0x015A,0x05},
	{0x015B,0x05},
	{0x015C,0x05},
	{0x015D,0x05},
	{0x015E,0x08},
	{0x015F,0xFF},
	{0x0160,0x50},
	{0x0161,0x20},
	{0x0162,0x14},
	{0x0163,0x0A},
	{0x0164,0x10},
	{0x0165,0x08},
	{0x0166,0x0A},
	{0x018C,0x24},
	{0x018D,0x04},
	{0x018E,0x00},
	{0x018F,0x11},
	{0x0190,0x87},
	{0x0191,0x47},
	{0x0192,0x50},
	{0x0193,0x64},
	{0x0194,0x32},
	{0x0195,0xc8},
	{0x0196,0x96},
	{0x0197,0x64},
	{0x0198,0x32},
	{0x0199,0x14},
	{0x019A,0x20},
	{0x019B,0x14},
	{0x01B0,0x55},
	{0x01B1,0x0C},
	{0x01B2,0x0A},
	{0x01B3,0x10},
	{0x01B4,0x0E},
	{0x01BA,0x10},
	{0x01BB,0x04},
	{0x01D8,0x40},
	{0x01DE,0x60},
	{0x01E4,0x10},
	{0x01E5,0x10},
	{0x01F2,0x0C},
	{0x01F3,0x14},
	{0x01F8,0x04},
	{0x01F9,0x0C},
	{0x01FE,0x02},
	{0x01FF,0x04},
	{0x0220,0x00},
	{0x0221,0xB0},
	{0x0222,0x00},
	{0x0223,0x80},
	{0x0224,0x8E},
	{0x0225,0x00},
	{0x0226,0x88},
	{0x022A,0x88},
	{0x022B,0x00},
	{0x022C,0x8C},
	{0x022D,0x13},
	{0x022E,0x0B},
	{0x022F,0x13},
	{0x0230,0x0B},
	{0x0233,0x13},
	{0x0234,0x0B},
	{0x0235,0x28},
	{0x0236,0x03},
	{0x0237,0x28},
	{0x0238,0x03},
	{0x023B,0x28},
	{0x023C,0x03},
	{0x023D,0x5C},
	{0x023E,0x02},
	{0x023F,0x5C},
	{0x0240,0x02},
	{0x0243,0x5C},
	{0x0244,0x02},
	{0x0251,0x0E},
	{0x0252,0x00},
	{0x0280,0x0A},
	{0x0282,0x14},
	{0x0284,0x2A},
	{0x0286,0x50},
	{0x0288,0x60},
	{0x028A,0x6D},
	{0x028C,0x79},
	{0x028E,0x82},
	{0x0290,0x8A},
	{0x0292,0x91},
	{0x0294,0x9C},
	{0x0296,0xA7},
	{0x0298,0xBA},
	{0x029A,0xCD},
	{0x029C,0xE0},
	{0x029E,0x2D},
	{0x02A0,0x06},
	{0x02E0,0x04},
	{0x02C0,0x8F},
	{0x02C1,0x01},
	{0x02C2,0x8F},
	{0x02C3,0x07},
	{0x02C4,0xE3},
	{0x02C5,0x07},
	{0x02C6,0xC1},
	{0x02C7,0x07},
	{0x02C8,0x70},
	{0x02C9,0x01},
	{0x02CA,0xD0},
	{0x02CB,0x07},
	{0x02CC,0xF7},
	{0x02CD,0x07},
	{0x02CE,0x5A},
	{0x02CF,0x07},
	{0x02D0,0xB0},
	{0x02D1,0x01},
	{0x0302,0x00},
	{0x0303,0x00},
	{0x0304,0x00},
	{0x02F0,0x80},
	{0x02F1,0x07},
	{0x02F2,0x8E},
	{0x02F3,0x00},
	{0x02F4,0xF2},
	{0x02F5,0x07},
	{0x02F6,0xCC},
	{0x02F7,0x07},
	{0x02F8,0x16},
	{0x02F9,0x00},
	{0x02FA,0x1E},
	{0x02FB,0x00},
	{0x02FC,0x9D},
	{0x02FD,0x07},
	{0x02FE,0xA6},
	{0x02FF,0x07},
	{0x0300,0xBD},
	{0x0301,0x00},
	{0x0305,0x00},
	{0x0306,0x00},
	{0x0307,0x00},
	{0x0333,0x82},
	{0x0334,0x00},
	{0x0335,0x84},
	{0x0336,0x00},
	{0x0337,0x01},
	{0x0338,0x00},
	{0x0339,0x01},
	{0x033A,0x00},
	{0x033B,0x01},
	{0x033E,0x04},
	{0x033F,0x86},
	{0x0340,0x30},
	{0x0341,0x44},
	{0x0342,0x4A},
	{0x0343,0x42},
	{0x0344,0x74},
	{0x0345,0x4F},
	{0x0346,0x67},
	{0x0347,0x5C},
	{0x0348,0x59},
	{0x0349,0x67},
	{0x034A,0x4D},
	{0x034B,0x6E},
	{0x034C,0x44},
	{0x0350,0x80},
	{0x0351,0x80},
	{0x0352,0x18},
	{0x0353,0x18},
	{0x0354,0x6E},
	{0x0355,0x4A},
	{0x0356,0x73},
	{0x0357,0xC0},
	{0x0358,0x06},
	{0x035A,0x06},
	{0x035B,0xA0},
	{0x035C,0x73},
	{0x035D,0x50},
	{0x035E,0xC0},
	{0x035F,0xA0},
	{0x0360,0x02},
	{0x0361,0x18},
	{0x0362,0x80},
	{0x0363,0x6C},
	{0x0364,0x00},
	{0x0365,0xF0},
	{0x0366,0x20},
	{0x0367,0x0C},
	{0x0369,0x00},
	{0x036A,0x10},
	{0x036B,0x10},
	{0x036E,0x20},
	{0x036F,0x00},
	{0x0370,0x10},
	{0x0371,0x18},
	{0x0372,0x0C},
	{0x0373,0x38},
	{0x0374,0x3A},
	{0x0375,0x13},
	{0x0376,0x22},
	{0x0380,0xFF},
	{0x0381,0x4A},
	{0x0382,0x36},
	{0x038A,0x40},
	{0x038B,0x08},
	{0x038C,0xC1},
	{0x038E,0x40},
	{0x038F,0x0B},
	{0x0390,0xC0},
	{0x0391,0x05},
	{0x0393,0x80},
	{0x0395,0x21},
	{0x0398,0x02},
	{0x0399,0x84},
	{0x039A,0x03},
	{0x039B,0x25},
	{0x039C,0x03},
	{0x039D,0xC6},
	{0x039E,0x05},
	{0x039F,0x08},
	{0x03A0,0x06},
	{0x03A1,0x4A},
	{0x03A2,0x07},
	{0x03A3,0x8C},
	{0x03A4,0x0A},
	{0x03A5,0x10},
	{0x03A6,0x0C},
	{0x03A7,0x0E},
	{0x03A8,0x10},
	{0x03A9,0x18},
	{0x03AA,0x20},
	{0x03AB,0x28},
	{0x03AC,0x1E},
	{0x03AD,0x1A},
	{0x03AE,0x13},
	{0x03AF,0x0C},
	{0x03B0,0x0B},
	{0x03B1,0x09},
	{0x03B3,0x10},
	{0x03B4,0x00},
	{0x03B5,0x10},
	{0x03B6,0x00},
	{0x03B7,0x8D},
	{0x03B8,0x00},
	{0x03B9,0xFF},
	{0x03BA,0x01},
	{0x03BB,0x9F},
	{0x03BC,0xCF},
	{0x03BD,0xE7},
	{0x03BE,0xF3},
	{0x03BF,0x01},
	{0x03D0,0xF8},
	{0x03E0,0x04},
	{0x03E1,0x01},
	{0x03E2,0x04},
	{0x03E4,0x10},
	{0x03E5,0x12},
	{0x03E6,0x00},
	{0x03E8,0x21},
	{0x03E9,0x23},
	{0x03EA,0x01},
	{0x03EC,0x21},
	{0x03ED,0x23},
	{0x03EE,0x01},
	{0x03F0,0x20},
	{0x03F1,0x22},
	{0x03F2,0x00},
	{0x0420,0x84},
	{0x0421,0x00},
	{0x0422,0x00},
	{0x0423,0x83},
	{0x0430,0x08},
	{0x0431,0x28},
	{0x0432,0x10},
	{0x0433,0x08},
	{0x0435,0x0C},
	{0x0450,0xFF},
	{0x0451,0xE8},
	{0x0452,0xC4},
	{0x0453,0x88},
	{0x0454,0x00},
	{0x0458,0x70},
	{0x0459,0x03},
	{0x045A,0x00},
	{0x045B,0x30},
	{0x045C,0x00},
	{0x045D,0x70},
	{0x0466,0x14},
	{0x047A,0x00},
	{0x047B,0x00},
	{0x0480,0x58},
	{0x0481,0x06},
	{0x0482,0x0C},
	{0x04B0,0x54},
	{0x04B6,0x30},
	{0x04B9,0x10},
	{0x04B3,0x10},
	{0x04B1,0x8E},
	{0x04B4,0x20},
	{0x0540,0x00},
	{0x0541,0xBC},
	{0x0542,0x00},
	{0x0543,0xE1},
	{0x0580,0x01},
	{0x0581,0x0F},
	{0x0582,0x04},
	{0x0594,0x00},
	{0x0595,0x04},
	{0x05A9,0x03},
	{0x05AA,0x40},
	{0x05AB,0x80},
	{0x05AC,0x0A},
	{0x05AD,0x10},
	{0x05AE,0x0C},
	{0x05AF,0x0C},
	{0x05B0,0x03},
	{0x05B1,0x03},
	{0x05B2,0x1C},
	{0x05B3,0x02},
	{0x05B4,0x00},
	{0x05B5,0x0C},
	{0x05B8,0x80},
	{0x05B9,0x32},
	{0x05BA,0x00},
	{0x05BB,0x80},
	{0x05BC,0x03},
	{0x05BD,0x00},
	{0x05BF,0x05},
	{0x05C0,0x10},
	{0x05C3,0x00},
	{0x05C4,0x0C},
	{0x05C5,0x20},
	{0x05C7,0x01},
	{0x05C8,0x14},
	{0x05C9,0x54},
	{0x05CA,0x14},
	{0x05CB,0xE0},
	{0x05CC,0x20},
	{0x05CD,0x00},
	{0x05CE,0x08},
	{0x05CF,0x60},
	{0x05D0,0x10},
	{0x05D1,0x05},
	{0x05D2,0x03},
	{0x05D4,0x00},
	{0x05D5,0x05},
	{0x05D6,0x05},
	{0x05D7,0x05},
	{0x05D8,0x08},
	{0x05DC,0x0C},
	{0x05D9,0x00},
	{0x05DB,0x00},
	{0x05DD,0x0F},
	{0x05DE,0x00},
	{0x05DF,0x0A},
	{0x05E0,0xA0},
	{0x05E1,0x00},
	{0x05E2,0xA0},
	{0x05E3,0x00},
	{0x05E4,0x08},
	{0x05E5,0x00},
	{0x05E6,0x07},
	{0x05E7,0x05},
	{0x05E8,0x06},
	{0x05E9,0x00},
	{0x05EA,0xD5},
	{0x05EB,0x02},
	{0x0660,0x04},
	{0x0661,0x16},
	{0x0662,0x04},
	{0x0663,0x28},
	{0x0664,0x04},
	{0x0665,0x18},
	{0x0666,0x04},
	{0x0667,0x21},
	{0x0668,0x04},
	{0x0669,0x0C},
	{0x066A,0x04},
	{0x066B,0x25},
	{0x066C,0x00},
	{0x066D,0x12},
	{0x066E,0x00},
	{0x066F,0x80},
	{0x0670,0x00},
	{0x0671,0x0A},
	{0x0672,0x04},
	{0x0673,0x1D},
	{0x0674,0x04},
	{0x0675,0x1D},
	{0x0676,0x00},
	{0x0677,0x7E},
	{0x0678,0x01},
	{0x0679,0x47},
	{0x067A,0x00},
	{0x067B,0x73},
	{0x067C,0x04},
	{0x067D,0x14},
	{0x067E,0x04},
	{0x067F,0x28},
	{0x0680,0x00},
	{0x0681,0x22},
	{0x0682,0x00},
	{0x0683,0xA5},
	{0x0684,0x00},
	{0x0685,0x1E},
	{0x0686,0x04},
	{0x0687,0x1D},
	{0x0688,0x04},
	{0x0689,0x19},
	{0x068A,0x04},
	{0x068B,0x21},
	{0x068C,0x04},
	{0x068D,0x0A},
	{0x068E,0x04},
	{0x068F,0x25},
	{0x0690,0x04},
	{0x0691,0x15},
	{0x0698,0x20},
	{0x0699,0x20},
	{0x069A,0x01},
	{0x069C,0x22},
	{0x069D,0x10},
	{0x069E,0x10},
	{0x069F,0x08},
	{0x038E,0x3C},
	{0x0381,0x46},
	{0x0382,0x32},
	{0x0356,0x86},
	{0x0357,0xCA},
	{0x04B0,0x54},
	{0x0480,0x5C},
	{0x0123,0x21},
	{0x0010,0x00},
	{0x0011,0x02},
	{0x0012,0x0D},
	{0x0013,0x03},
	{0x0541,0x9B},
	{0x0543,0xBA},
	{0x0391,0x05},//BA
	{0x007c,0x17},//20121008
	{0x0B02,0x04},
	{0x0B07,0x25},
	{0x0B0E,0x1D},
	{0x0B0F,0x07},
	{0x0B22,0x02},
	{0x0B39,0x03},
	{0x0B11,0x7F},
	{0x0B12,0x7F},
	{0x0B17,0xE0},
	{0x0B20,0xBE},
	{0x0B30,0x0F},
	{0x0B31,0x02},
	{0x0B32,0x00},
	{0x0B33,0x00},
	{0x0B39,0x0F},
	{0x0B3B,0x12},
	{0x007c,0x17},//20121008
	{0x0B3E,0x01},
	{0x0B09,0x01},
	{0x0B08,0xE0},
	{0x0B0B,0x02},
	{0x0B0A,0x80},
	{0x0B3F,0x01},
	{0x0024,0x40},
	{0x0000,0x01},
	{0x0100,0x01},
	{0x0101,0x01}
};
*/
/*
static struct msm_camera_i2c_reg_conf hm2056_recommend_settings[] = {
	{0x0005,0x00},
	{0x0022,0x00},
	{0x0020,0x00},
	{0x0024,0x00},
	{0x0023,0x00},
	{0x0027,0x30},
	{0x0028,0xC0},
	{0x0026,0x87},
	{0x002A,0x2F},
	{0x002B,0x00},
	{0x002C,0x0A},
	{0x0025,0x00},
	{0x0004,0x10},
	{0x0006,0x00},
	{0x000D,0x00},
	{0x000E,0x00},
	{0x000F,0x00},
	{0x0011,0x02},
	{0x0012,0x04},
	{0x0013,0x00},
	{0x0040,0x20},
	{0x0053,0x0A},
	{0x0044,0x06},
	{0x0046,0xD8},
	{0x004A,0x0A},
	{0x004B,0x72},
	{0x0075,0x01},
	{0x0070,0x5F},
	{0x0071,0xAB},
	{0x0072,0x55},
	{0x0073,0x50},

	{0x0080,0xC8},
	{0x0082,0xE2},
	{0x0083,0xF0},
	{0x0085,0x11},
	{0x0086,0x02},
	{0x0087,0x80},
	{0x0088,0x6C},
	{0x0089,0x2E},
	{0x008A,0x6D},
	{0x008D,0x20},
	{0x0090,0x00},
	{0x0091,0x10},
	{0x0092,0x11},
	{0x0093,0x12},
	{0x0094,0x16},
	{0x0095,0x08},
	{0x0096,0x00},
	{0x0097,0x10},
	{0x0098,0x11},
	{0x0099,0x12},
	{0x009A,0x16},
	{0x009B,0x34},
	{0x00A0,0x00},
	{0x00A1,0x04},
	{0x011F,0xFF},
	{0x0120,0x36},
	{0x0121,0x83},
	{0x0122,0x7B},
	{0x0123,0xC2},
	{0x0124,0xDE},
	{0x0125,0xDF},//20121008
	{0x0126,0x70},
	{0x0128,0x1F},
	{0x0132,0x10},
	{0x0136,0x0A},
	{0x0131,0xBC},
	{0x0140,0x14},
	{0x0141,0x0A},
	{0x0142,0x14},
	{0x0143,0x0A},
	{0x0144,0x04},
	{0x0145,0x00},
	{0x0146,0x20},
	{0x0147,0x0A},
	{0x0148,0x10},
	{0x0149,0x0C},
	{0x014A,0x80},
	{0x014B,0x80},
	{0x014C,0x2E},
	{0x014D,0x2E},
	{0x014E,0x05},
	{0x014F,0x05},
	{0x0150,0x0D},
	{0x0155,0x00},
	{0x0156,0x10},
	{0x0157,0x0A},
	{0x0158,0x0A},
	{0x0159,0x0A},
	{0x015A,0x05},
	{0x015B,0x05},
	{0x015C,0x05},
	{0x015D,0x05},
	{0x015E,0x08},
	{0x015F,0xFF},
	{0x0160,0x50},
	{0x0161,0x20},
	{0x0162,0x14},
	{0x0163,0x0A},
	{0x0164,0x10},
	{0x0165,0x08},
	{0x0166,0x0A},
	{0x018C,0x24},
	{0x018D,0x04},
	{0x018E,0x00},
	{0x018F,0x11},
	{0x0190,0x87},
	{0x0191,0x47},
	{0x0192,0x50},
	{0x0193,0x64},
	{0x0194,0x32},
	{0x0195,0xc8},
	{0x0196,0x96},
	{0x0197,0x64},
	{0x0198,0x32},
	{0x0199,0x14},
	{0x019A,0x20},
	{0x019B,0x14},
	{0x01B0,0x55},
	{0x01B1,0x0C},
	{0x01B2,0x0A},
	{0x01B3,0x10},
	{0x01B4,0x0E},
	{0x01BA,0x10},
	{0x01BB,0x04},
	{0x01D8,0x40},
	{0x01DE,0x60},
	{0x01E4,0x10},
	{0x01E5,0x10},
	{0x01F2,0x0C},
	{0x01F3,0x14},
	{0x01F8,0x04},
	{0x01F9,0x0C},
	{0x01FE,0x02},
	{0x01FF,0x04},
	{0x0220,0x00},
	{0x0221,0xB0},
	{0x0222,0x00},
	{0x0223,0x80},
	{0x0224,0x8E},
	{0x0225,0x00},
	{0x0226,0x88},
	{0x022A,0x88},
	{0x022B,0x00},
	{0x022C,0x8C},
	{0x022D,0x13},
	{0x022E,0x0B},
	{0x022F,0x13},
	{0x0230,0x0B},
	{0x0233,0x13},
	{0x0234,0x0B},
	{0x0235,0x28},
	{0x0236,0x03},
	{0x0237,0x28},
	{0x0238,0x03},
	{0x023B,0x28},
	{0x023C,0x03},
	{0x023D,0x5C},
	{0x023E,0x02},
	{0x023F,0x5C},
	{0x0240,0x02},
	{0x0243,0x5C},
	{0x0244,0x02},
	{0x0251,0x0E},
	{0x0252,0x00},
	{0x0280,0x0A},
	{0x0282,0x14},
	{0x0284,0x2A},
	{0x0286,0x50},
	{0x0288,0x60},
	{0x028A,0x6D},
	{0x028C,0x79},
	{0x028E,0x82},
	{0x0290,0x8A},
	{0x0292,0x91},
	{0x0294,0x9C},
	{0x0296,0xA7},
	{0x0298,0xBA},
	{0x029A,0xCD},
	{0x029C,0xE0},
	{0x029E,0x2D},
	{0x02A0,0x06},
	{0x02E0,0x04},
	{0x02C0,0x8F},
	{0x02C1,0x01},
	{0x02C2,0x8F},
	{0x02C3,0x07},
	{0x02C4,0xE3},
	{0x02C5,0x07},
	{0x02C6,0xC1},
	{0x02C7,0x07},
	{0x02C8,0x70},
	{0x02C9,0x01},
	{0x02CA,0xD0},
	{0x02CB,0x07},
	{0x02CC,0xF7},
	{0x02CD,0x07},
	{0x02CE,0x5A},
	{0x02CF,0x07},
	{0x02D0,0xB0},
	{0x02D1,0x01},
	{0x0302,0x00},
	{0x0303,0x00},
	{0x0304,0x00},
	{0x02F0,0x80},
	{0x02F1,0x07},
	{0x02F2,0x8E},
	{0x02F3,0x00},
	{0x02F4,0xF2},
	{0x02F5,0x07},
	{0x02F6,0xCC},
	{0x02F7,0x07},
	{0x02F8,0x16},
	{0x02F9,0x00},
	{0x02FA,0x1E},
	{0x02FB,0x00},
	{0x02FC,0x9D},
	{0x02FD,0x07},
	{0x02FE,0xA6},
	{0x02FF,0x07},
	{0x0300,0xBD},
	{0x0301,0x00},
	{0x0305,0x00},
	{0x0306,0x00},
	{0x0307,0x00},
	{0x0333,0x82},
	{0x0334,0x00},
	{0x0335,0x84},
	{0x0336,0x00},
	{0x0337,0x01},
	{0x0338,0x00},
	{0x0339,0x01},
	{0x033A,0x00},
	{0x033B,0x01},
	{0x033E,0x04},
	{0x033F,0x86},
	{0x0340,0x30},
	{0x0341,0x44},
	{0x0342,0x4A},
	{0x0343,0x42},
	{0x0344,0x74},
	{0x0345,0x4F},
	{0x0346,0x67},
	{0x0347,0x5C},
	{0x0348,0x59},
	{0x0349,0x67},
	{0x034A,0x4D},
	{0x034B,0x6E},
	{0x034C,0x44},
	{0x0350,0x80},
	{0x0351,0x80},
	{0x0352,0x18},
	{0x0353,0x18},
	{0x0354,0x6E},
	{0x0355,0x4A},
	{0x0356,0x73},
	{0x0357,0xC0},
	{0x0358,0x06},
	{0x035A,0x06},
	{0x035B,0xA0},
	{0x035C,0x73},
	{0x035D,0x50},
	{0x035E,0xC0},
	{0x035F,0xA0},
	{0x0360,0x02},
	{0x0361,0x18},
	{0x0362,0x80},
	{0x0363,0x6C},
	{0x0364,0x00},
	{0x0365,0xF0},
	{0x0366,0x20},
	{0x0367,0x0C},
	{0x0369,0x00},
	{0x036A,0x10},
	{0x036B,0x10},
	{0x036E,0x20},
	{0x036F,0x00},
	{0x0370,0x10},
	{0x0371,0x18},
	{0x0372,0x0C},
	{0x0373,0x38},
	{0x0374,0x3A},
	{0x0375,0x13},
	{0x0376,0x22},
	{0x0380,0xFF},
	{0x0381,0x4A},
	{0x0382,0x36},
	{0x038A,0x40},
	{0x038B,0x08},
	{0x038C,0xC1},
	{0x038E,0x40},
	{0x038F,0x09},
	{0x0390,0xB0},
	{0x0391,0x05},
	{0x0393,0x80},
	{0x0395,0x21},
	{0x0398,0x02},
	{0x0399,0x84},
	{0x039A,0x03},
	{0x039B,0x25},
	{0x039C,0x03},
	{0x039D,0xC6},
	{0x039E,0x05},
	{0x039F,0x08},
	{0x03A0,0x06},
	{0x03A1,0x4A},
	{0x03A2,0x07},
	{0x03A3,0x8C},
	{0x03A4,0x0A},
	{0x03A5,0x10},
	{0x03A6,0x0C},
	{0x03A7,0x0E},
	{0x03A8,0x10},
	{0x03A9,0x18},
	{0x03AA,0x20},
	{0x03AB,0x28},
	{0x03AC,0x1E},
	{0x03AD,0x1A},
	{0x03AE,0x13},
	{0x03AF,0x0C},
	{0x03B0,0x0B},
	{0x03B1,0x09},
	{0x03B3,0x10},
	{0x03B4,0x00},
	{0x03B5,0x10},
	{0x03B6,0x00},
	{0x03B7,0xEA},
	{0x03B8,0x00},
	{0x03B9,0x3A},
	{0x03BA,0x01},
	{0x03BB,0x9F},
	{0x03BC,0xCF},
	{0x03BD,0xE7},
	{0x03BE,0xF3},
	{0x03BF,0x01},
	{0x03D0,0xF8},
	{0x03E0,0x04},
	{0x03E1,0x01},
	{0x03E2,0x04},
	{0x03E4,0x10},
	{0x03E5,0x12},
	{0x03E6,0x00},
	{0x03E8,0x21},
	{0x03E9,0x23},
	{0x03EA,0x01},
	{0x03EC,0x21},
	{0x03ED,0x23},
	{0x03EE,0x01},
	{0x03F0,0x20},
	{0x03F1,0x22},
	{0x03F2,0x00},
	{0x0420,0x84},
	{0x0421,0x00},
	{0x0422,0x00},
	{0x0423,0x83},
	{0x0430,0x08},
	{0x0431,0x28},
	{0x0432,0x10},
	{0x0433,0x08},
	{0x0435,0x0C},
	{0x0450,0xFF},
	{0x0451,0xE8},
	{0x0452,0xC4},
	{0x0453,0x88},
	{0x0454,0x00},
	{0x0458,0x70},
	{0x0459,0x03},
	{0x045A,0x00},
	{0x045B,0x30},
	{0x045C,0x00},
	{0x045D,0x70},
	{0x0466,0x14},
	{0x047A,0x00},
	{0x047B,0x00},
	{0x0480,0x58},
	{0x0481,0x06},
	{0x0482,0x0C},
	{0x04B0,0x54},
	{0x04B6,0x30},
	{0x04B9,0x10},
	{0x04B3,0x10},
	{0x04B1,0x8E},
	{0x04B4,0x20},
	{0x0540,0x00},
	{0x0541,0x9B},
	{0x0542,0x00},
	{0x0543,0xBA},
	{0x0580,0x01},
	{0x0581,0x0F},
	{0x0582,0x04},
	{0x0594,0x00},
	{0x0595,0x04},
	{0x05A9,0x03},
	{0x05AA,0x40},
	{0x05AB,0x80},
	{0x05AC,0x0A},
	{0x05AD,0x10},
	{0x05AE,0x0C},
	{0x05AF,0x0C},
	{0x05B0,0x03},
	{0x05B1,0x03},
	{0x05B2,0x1C},
	{0x05B3,0x02},
	{0x05B4,0x00},
	{0x05B5,0x0C},
	{0x05B8,0x80},
	{0x05B9,0x32},
	{0x05BA,0x00},
	{0x05BB,0x80},
	{0x05BC,0x03},
	{0x05BD,0x00},
	{0x05BF,0x05},
	{0x05C0,0x10},
	{0x05C3,0x00},
	{0x05C4,0x0C},
	{0x05C5,0x20},
	{0x05C7,0x01},
	{0x05C8,0x14},
	{0x05C9,0x54},
	{0x05CA,0x14},
	{0x05CB,0xE0},
	{0x05CC,0x20},
	{0x05CD,0x00},
	{0x05CE,0x08},
	{0x05CF,0x60},
	{0x05D0,0x10},
	{0x05D1,0x05},
	{0x05D2,0x03},
	{0x05D4,0x00},
	{0x05D5,0x05},
	{0x05D6,0x05},
	{0x05D7,0x05},
	{0x05D8,0x08},
	{0x05DC,0x0C},
	{0x05D9,0x00},
	{0x05DB,0x00},
	{0x05DD,0x0F},
	{0x05DE,0x00},
	{0x05DF,0x0A},
	{0x05E0,0xA0},
	{0x05E1,0x00},
	{0x05E2,0xA0},
	{0x05E3,0x00},
	{0x05E4,0x0A},
	{0x05E5,0x00},
	{0x05E6,0x49},
	{0x05E7,0x06},
	{0x05E8,0x0A},
	{0x05E9,0x00},
	{0x05EA,0xB9},
	{0x05EB,0x04},
	{0x0660,0x04},
	{0x0661,0x16},
	{0x0662,0x04},
	{0x0663,0x28},
	{0x0664,0x04},
	{0x0665,0x18},
	{0x0666,0x04},
	{0x0667,0x21},
	{0x0668,0x04},
	{0x0669,0x0C},
	{0x066A,0x04},
	{0x066B,0x25},
	{0x066C,0x00},
	{0x066D,0x12},
	{0x066E,0x00},
	{0x066F,0x80},
	{0x0670,0x00},
	{0x0671,0x0A},
	{0x0672,0x04},
	{0x0673,0x1D},
	{0x0674,0x04},
	{0x0675,0x1D},
	{0x0676,0x00},
	{0x0677,0x7E},
	{0x0678,0x01},
	{0x0679,0x47},
	{0x067A,0x00},
	{0x067B,0x73},
	{0x067C,0x04},
	{0x067D,0x14},
	{0x067E,0x04},
	{0x067F,0x28},
	{0x0680,0x00},
	{0x0681,0x22},
	{0x0682,0x00},
	{0x0683,0xA5},
	{0x0684,0x00},
	{0x0685,0x1E},
	{0x0686,0x04},
	{0x0687,0x1D},
	{0x0688,0x04},
	{0x0689,0x19},
	{0x068A,0x04},
	{0x068B,0x21},
	{0x068C,0x04},
	{0x068D,0x0A},
	{0x068E,0x04},
	{0x068F,0x25},
	{0x0690,0x04},
	{0x0691,0x15},
	{0x0698,0x20},
	{0x0699,0x20},
	{0x069A,0x01},
	{0x069C,0x22},
	{0x069D,0x10},
	{0x069E,0x10},
	{0x069F,0x08},
	{0x038E,0x3C},
	{0x0381,0x46},
	{0x0382,0x32},
	{0x0356,0x86},
	{0x0357,0xCA},
	{0x04B0,0x54},
	{0x0480,0x5C},
	{0x0123,0x21},
	{0x0010,0x00},
	{0x0011,0x02},
	{0x0012,0x0D},
	{0x0013,0x03},
	{0x0541,0x9B},
	{0x0543,0xBA},
	{0x0391,0x05},//BA
	{0x007c,0x17},//20121008
	{0x0B02,0x04},
	{0x0B07,0x25},
	{0x0B0E,0x1D},
	{0x0B0F,0x07},
	{0x0B22,0x02},
	{0x0B39,0x03},
	{0x0B11,0x7F},
	{0x0B12,0x7F},
	{0x0B17,0xE0},
	{0x0B20,0xBE},
	{0x0B30,0x0F},
	{0x0B31,0x02},
	{0x0B32,0x00},
	{0x0B33,0x00},
	{0x0B39,0x0F},
	{0x0B3B,0x12},
	{0x007c,0x17},//20121008
	{0x0B3E,0x01},
	{0x0B09,0x01},
	{0x0B08,0xE0},
	{0x0B0B,0x02},
	{0x0B0A,0x80},
	{0x0B3F,0x01},
	{0x0024,0x40},
	{0x0000,0x01},
	{0x0100,0x01},
	{0x0101,0x01}
};
*/
static struct v4l2_subdev_info hm2056_subdev_info[] = {
	{
		.code   = V4L2_MBUS_FMT_YUYV8_2X8,
		.colorspace = V4L2_COLORSPACE_JPEG,
		.fmt  = 1,
		.order  = 0,
	},
};

static struct msm_camera_i2c_reg_conf hm2056_reg_saturation[3][4] = {
        {       //Saturation -1
                {0x0480,0x4A},
                {0x0000,0x01},
                {0x0100,0x01},
                {0x0101,0x01},
        },
	{	//Saturation Standard
		{0x0480,0x6A},
		{0x0000,0x01},
		{0x0100,0x01},
		{0x0101,0x01},
	},
        {       //Saturation +1
                {0x0480,0x8A},
                {0x0000,0x01},
                {0x0100,0x01},
                {0x0101,0x01},
        },
};

static struct msm_camera_i2c_reg_conf hm2056_reg_contrast[3][4] = {
        {       //Contrast -1
                {0x04B0,0x64},
                {0x04B6,0x16},
                {0x04B9,0x30},
                {0x04B3,0x7F},
        },
	{	//Standard Contrast
		{0x04B0,0x54},
		{0x04B6,0x30},
		{0x04B9,0x10},
		{0x04B3,0x10},
	},
        {       //Contrast +1
                {0x04B0,0x44},
                {0x04B6,0x16},
                {0x04B9,0x30},
                {0x04B3,0x7F},
        },

};

static struct msm_camera_i2c_reg_conf hm2056_reg_brightness[3][4] = {
        {
                {0x04C0,0x8F},
                {0x0000,0x01},
                {0x0100,0x01},
                {0x0101,0x01},
        },
        {
                {0x04C0,0x00},
                {0x0000,0x01},
                {0x0100,0x01},
                {0x0101,0x01},
        },
        {
                {0x04C0,0x10},
                {0x0000,0x01},
                {0x0100,0x01},
                {0x0101,0x01},
        },
};

static struct msm_camera_i2c_reg_conf hm2056_reg_exposure_compensation[5][4] = {
	{    //EV +2
		{0x04C0,0xe0},
		{0x0000,0x01},
		{0x0100,0x01},
		{0x0101,0x01},
	},
	{    //EV +1
		{0x04C0,0xa0},
		{0x0000,0x01},
		{0x0100,0x01},
		{0x0101,0x01},
	},
	{    //EV standard
		{0x04C0,0x00},
		{0x0000,0x01},
		{0x0100,0x01},
		{0x0101,0x01},
	},
	{    //EV -1
		{0x04C0,0x30},
		{0x0000,0x01},
		{0x0100,0x01},
		{0x0101,0x01},
	},
	{    //EV -2
		{0x04C0,0x70},
		{0x0000,0x01},
		{0x0100,0x01},
		{0x0101,0x01},
	},
};

static struct msm_camera_i2c_reg_conf hm2056_reg_sharpness[3][5] = {
	{	//level 0
		{0x069C,0x12},
		{0x069e,0x05},
		{0x0000,0x01},
		{0x0100,0x01},
		{0x0101,0x01},
	},
	{	//level 1
		{0x069C,0x22},
		{0x069e,0x15},
		{0x0000,0x01},
		{0x0100,0x01},
		{0x0101,0x01},
	},
	{	//level 2
		{0x069C,0x32},
		{0x069e,0x25},
		{0x0000,0x01},
		{0x0100,0x01},
		{0x0101,0x01},
	},
};

static struct msm_camera_i2c_reg_conf hm2056_reg_effect_normal[] = {
	//Normal (off)
	//{0x0005, 0x00},
	{0x0134, 0x00},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
	{0x0488, 0x10},
	{0x0486, 0x00},
	{0x0487, 0xFF},
	{0x0120, 0x36},
	{0x0125, 0xDF},//Ben@20120921
	{0x0480, 0x68},//Ben@20120921
	//{0x0005, 0x01},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},

};
static struct msm_camera_i2c_reg_conf hm2056_reg_effect_neon[] = {
	//{0x0005, 0x00},
	{0x0134, 0x03},
	{0x0488, 0x10},
	{0x0486, 0x00},
	{0x0487, 0xFF},
	{0x0120, 0x36},
	{0x0125, 0xDF},//Ben@20120921
	{0x0480, 0x68},//Ben@20120921
	//{0x0005, 0x01},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
};

static struct msm_camera_i2c_reg_conf hm2056_reg_effect_sketch[] = {
	//{0x0005, 0x00},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
	{0x0486, 0x00},
	{0x0487, 0xFF},
	{0x0488, 0x10},
	{0x0120, 0x36},
	{0x0134, 0x02},
	{0x0125, 0xDD},//Ben@20120921
	{0x0480, 0x00},//Ben@20120921
	//{0x0005, 0x01},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
};
static struct msm_camera_i2c_reg_conf hm2056_reg_effect_emboss[] = {
	//{0x0005, 0x00},
	{0x0000, 0x01},
	{0x0100, 0x00},
	{0x0101, 0xFF},
	{0x0486, 0x00},
	{0x0487, 0xFF},
	{0x0488, 0x10},
	{0x0120, 0x36},
	{0x0134, 0x01},
	{0x0125, 0xDD},//Ben@20120921
	{0x0480, 0x00},//Ben@20120921
	//{0x0005, 0x01},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
};

static struct msm_camera_i2c_reg_conf hm2056_reg_effect_black_white[] = {
	//black and white (mono)
	//{0x0005, 0x00},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
	{0x0486, 0x80},
	{0x0487, 0x80},
	{0x0488, 0x11},
	{0x0120, 0x26},
	{0x0125, 0xDF},//Ben@20120921
	{0x0480, 0x68},//Ben@20120921
	//{0x0005, 0x01},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
};
static struct msm_camera_i2c_reg_conf hm2056_reg_effect_aqua[] = {
	//Blueish (cool light)
	//{0x0005, 0x00},
	{0x0134, 0x00},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
	{0x0488, 0x11},
	{0x0486, 0x9C},
	{0x0487, 0x50},
	{0x0120, 0x26},
	{0x0125, 0xDF},//Ben@20120921
	{0x0480, 0x68},//Ben@20120921
	//{0x0005, 0x01},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
};
static struct msm_camera_i2c_reg_conf hm2056_reg_effect_sepiablue[] = {
	//sepia
	//{0x0005, 0x00},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
	{0x0486, 0x40},
	{0x0487, 0xA0},
	{0x0488, 0x11},
	{0x0120, 0x26},
	{0x0125, 0xDF},//Ben@20120921
	{0x0480, 0x68},//Ben@20120921
	//{0x0005, 0x01},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
};

static struct msm_camera_i2c_reg_conf hm2056_reg_effect_negative[] = {
	//negative
	//{0x0005, 0x00},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
	{0x0488, 0x12},
	{0x0486, 0x00},
	{0x0487, 0xFF},
	{0x0120, 0x36},
	{0x0134, 0x00},
	{0x0125, 0xDF},//Ben@20120921
	{0x0480, 0x68},//Ben@20120921
	//{0x0005, 0x01},
	{0x0000, 0x01},
	{0x0100, 0xFF},
	{0x0101, 0xFF},
};

static struct msm_camera_i2c_reg_conf hm2056_reg_wb_auto[] = {
	/*Auto*/
	{0x0380,0xff},
	{0x0000,0x01},
	{0x0101,0xff},
};

static struct msm_camera_i2c_reg_conf hm2056_reg_wb_sunny[] = {
	/*Sunny*/
	{0x0380, 0xFD},
	{0x032D, 0x60},
	{0x032E, 0x01},
	{0x032F, 0x00},
	{0x0330, 0x01},
	{0x0331, 0x20},
	{0x0332, 0x01},
	{0x0000, 0x01},
	{0x0101, 0xFF},
};

static struct msm_camera_i2c_reg_conf hm2056_reg_wb_cloudy[] = {
	/*Cloudy*/
	{0x0380, 0xFD},
	{0x032D, 0x70},
	{0x032E, 0x01},
	{0x032F, 0x00},
	{0x0330, 0x01},
	{0x0331, 0x08},
	{0x0332, 0x01},
	{0x0000, 0x01},
	{0x0101, 0xFF},
};

static struct msm_camera_i2c_reg_conf hm2056_reg_wb_office[] = {
	/*Office*/
	{0x0380, 0xFD},
	{0x032D, 0x34},
	{0x032E, 0x01},
	{0x032F, 0x00},
	{0x0330, 0x01},
	{0x0331, 0x92},
	{0x0332, 0x01},
	{0x0000, 0x01},
	{0x0101, 0xFF},
};

static struct msm_camera_i2c_reg_conf hm2056_reg_wb_home[] = {
	/*Home*/
	{0x0380, 0xFD},
	{0x032D, 0x00},
	{0x032E, 0x01},
	{0x032F, 0x14},
	{0x0330, 0x01},
	{0x0331, 0xD6},
	{0x0332, 0x01},
	{0x0000, 0x01},
	{0x0101, 0xFF},
};

static const struct i2c_device_id hm2056_i2c_id[] = {
	{HM2056_SENSOR_NAME, (kernel_ulong_t)&hm2056_s_ctrl},
	{ }
};

static int32_t msm_hm2056_i2c_probe(struct i2c_client *client,
	const struct i2c_device_id *id)
{
	return msm_sensor_i2c_probe(client, id, &hm2056_s_ctrl);
}

static struct i2c_driver hm2056_i2c_driver = {
	.id_table = hm2056_i2c_id,
	.probe  = msm_hm2056_i2c_probe,
	.driver = {
		.name = HM2056_SENSOR_NAME,
	},
};

static struct msm_camera_i2c_client hm2056_sensor_i2c_client = {
	.addr_type = MSM_CAMERA_I2C_WORD_ADDR,
};

static const struct of_device_id hm2056_dt_match[] = {
	{.compatible = "himax,hm2056", .data = &hm2056_s_ctrl},
	{}
};

MODULE_DEVICE_TABLE(of, hm2056_dt_match);

static struct platform_driver hm2056_platform_driver = {
	.driver = {
		.name = "himax,hm2056",
		.owner = THIS_MODULE,
		.of_match_table = hm2056_dt_match,
	},
};

static void hm2056_i2c_write_table(struct msm_sensor_ctrl_t *s_ctrl,
	struct msm_camera_i2c_reg_conf *table,
	int num)
{
	int i = 0;
	int rc = 0;
	for (i = 0; i < num; ++i) {
		rc = s_ctrl->sensor_i2c_client->i2c_func_tbl->i2c_write(
			s_ctrl->sensor_i2c_client, table->reg_addr,
			table->reg_data,
			MSM_CAMERA_I2C_BYTE_ADDR);
		if (rc < 0) {
			msleep(100);
			rc = s_ctrl->sensor_i2c_client->i2c_func_tbl->i2c_write(
				s_ctrl->sensor_i2c_client, table->reg_addr,
				table->reg_data,
				MSM_CAMERA_I2C_BYTE_ADDR);
		}
		table++;
	}
}

/*
static uint16_t hm2056_i2c_read_register(struct msm_sensor_ctrl_t *s_ctrl , uint16_t reg_addr)
{
	int32_t rc = 0;
	uint16_t reg_val = 0;
	rc = s_ctrl->sensor_i2c_client->i2c_func_tbl->i2c_read(
		s_ctrl->sensor_i2c_client,
		reg_addr,
		&reg_val, MSM_CAMERA_I2C_BYTE_DATA);
	if (rc < 0) {
		pr_err("%s: %s: HM2056 read I2C failed\n", __func__,
			s_ctrl->sensordata->sensor_name);
		return reg_val;
	}

	pr_info("%s: reg_val : %x\n", __func__, reg_val);
	return reg_val;
}
*/

static int32_t hm2056_platform_probe(struct platform_device *pdev)
{
	int32_t rc;
	const struct of_device_id *match;
	match = of_match_device(hm2056_dt_match, &pdev->dev);
	rc = msm_sensor_platform_probe(pdev, match->data);
	return rc;
}


static int __init hm2056_init_module(void)
{
	int32_t rc;
	pr_info("%s:%d\n", __func__, __LINE__);
	rc = platform_driver_probe(&hm2056_platform_driver, hm2056_platform_probe);
	if (!rc)
		return rc;
	return i2c_add_driver(&hm2056_i2c_driver);
}


static void __exit hm2056_exit_module(void)
{
	pr_info("%s:%d\n", __func__, __LINE__);
	if (hm2056_s_ctrl.pdev) {
		msm_sensor_free_sensor_data(&hm2056_s_ctrl);
		platform_driver_unregister(&hm2056_platform_driver);
	} else
		i2c_del_driver(&hm2056_i2c_driver);
	return;
}

static void hm2056_set_saturation(struct msm_sensor_ctrl_t *s_ctrl, int value)
{
  int val = 0;

  //pr_info("%s %d", __func__, value);

  if(value == 0)
	val = 0;
  else if(value == 6)
	val = 1;
  else if(value == 10)
	val = 2;
  else
	val = 0;

  hm2056_i2c_write_table(s_ctrl, &hm2056_reg_saturation[val][0],
	ARRAY_SIZE(hm2056_reg_saturation[value]));
}


static void hm2056_set_sharpness(struct msm_sensor_ctrl_t *s_ctrl, int value)
{
	int val = value / 5;
	//pr_info("%s %d", __func__, val);
	hm2056_i2c_write_table(s_ctrl, &hm2056_reg_sharpness[val][0],
	ARRAY_SIZE(hm2056_reg_sharpness[value]));
}


static void hm2056_set_contrast(struct msm_sensor_ctrl_t *s_ctrl, int value)
{
	int val = value / 5;
	//pr_info("%s %d", __func__, val);
	hm2056_i2c_write_table(s_ctrl, &hm2056_reg_contrast[val][0],
	ARRAY_SIZE(hm2056_reg_contrast[val]));
}

static void hm2056_set_brightness(struct msm_sensor_ctrl_t *s_ctrl, int value)
{
	int val = value / 3;
        //pr_info("%s %d", __func__, val);
        hm2056_i2c_write_table(s_ctrl, &hm2056_reg_brightness[val][0],
        ARRAY_SIZE(hm2056_reg_brightness[val]));
}

static void hm2056_set_exposure_compensation(struct msm_sensor_ctrl_t *s_ctrl,
  int value)
{
	int val = (value + 12) / 6;

	//pr_info("%s val:%d   value:%d\n", __func__, val,value);

	//hm2056_reg_exposure_compensation[val][1] .reg_data = hm2056_i2c_read_register(s_ctrl,0x5600)|0x4;

	hm2056_i2c_write_table(s_ctrl, &hm2056_reg_exposure_compensation[val][0],
	ARRAY_SIZE(hm2056_reg_exposure_compensation[val]));
}


static void hm2056_set_effect(struct msm_sensor_ctrl_t *s_ctrl, int value)
{
	pr_debug("%s %d", __func__, value);
	switch (value) {
	case MSM_CAMERA_EFFECT_MODE_OFF: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_effect_normal[0],
		ARRAY_SIZE(hm2056_reg_effect_normal));
		break;
	}
	case MSM_CAMERA_EFFECT_MODE_NEON: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_effect_neon[0],
		ARRAY_SIZE(hm2056_reg_effect_neon));
		break;
	}
	case MSM_CAMERA_EFFECT_MODE_SKETCH: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_effect_sketch[0],
		ARRAY_SIZE(hm2056_reg_effect_sketch));
		break;
	}
	case MSM_CAMERA_EFFECT_MODE_EMBOSS: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_effect_emboss[0],
		ARRAY_SIZE(hm2056_reg_effect_emboss));
		break;
	}
	case MSM_CAMERA_EFFECT_MODE_MONO: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_effect_black_white[0],
		ARRAY_SIZE(hm2056_reg_effect_black_white));
		break;
	}
	case MSM_CAMERA_EFFECT_MODE_NEGATIVE: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_effect_negative[0],
		ARRAY_SIZE(hm2056_reg_effect_negative));
		break;
	}
	case MSM_CAMERA_EFFECT_MODE_SEPIA: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_effect_sepiablue[0],
		ARRAY_SIZE(hm2056_reg_effect_sepiablue));
		break;
	}
	case MSM_CAMERA_EFFECT_MODE_AQUA: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_effect_aqua[0],
		ARRAY_SIZE(hm2056_reg_effect_aqua));
		break;
	}
	default:
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_effect_normal[0],
		ARRAY_SIZE(hm2056_reg_effect_normal));
	}
}

#if 0
static void hm2056_set_scene_mode(struct msm_sensor_ctrl_t *s_ctrl, int value)
{
	pr_debug("%s %d", __func__, value);
	switch (value) {
	case MSM_CAMERA_SCENE_MODE_OFF: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_scene_auto[0],
		ARRAY_SIZE(hm2056_reg_scene_auto));
		break;
	}
	case MSM_CAMERA_SCENE_MODE_NIGHT: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_scene_night[0],
		ARRAY_SIZE(hm2056_reg_scene_night));
		break;
	}
	case MSM_CAMERA_SCENE_MODE_LANDSCAPE: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_scene_landscape[0],
		ARRAY_SIZE(hm2056_reg_scene_landscape));
		break;
	}
	case MSM_CAMERA_SCENE_MODE_PORTRAIT: {
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_scene_portrait[0],
		ARRAY_SIZE(hm2056_reg_scene_portrait));
		break;
	}
	default:
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_scene_auto[0],
		ARRAY_SIZE(hm2056_reg_scene_auto));
	}
}
#endif
static void hm2056_set_white_balance_mode(struct msm_sensor_ctrl_t *s_ctrl,
  int value)
{
	//CDBG("%s %d\n", __func__, value);
	switch (value) {
	case MSM_CAMERA_WB_MODE_AUTO: {
		//hm2056_reg_wb_auto[0] .reg_data = hm2056_i2c_read_register(s_ctrl,0x5180)&0xfd;
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_wb_auto[0],
		ARRAY_SIZE(hm2056_reg_wb_auto));
		break;
	}
	case MSM_CAMERA_WB_MODE_INCANDESCENT: {
		//hm2056_reg_wb_home[0] .reg_data = hm2056_i2c_read_register(s_ctrl,0x5180)|0x2;
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_wb_home[0],
		ARRAY_SIZE(hm2056_reg_wb_home));
		break;
	}
	case MSM_CAMERA_WB_MODE_DAYLIGHT: {
		//hm2056_reg_wb_sunny[0] .reg_data = hm2056_i2c_read_register(s_ctrl,0x5180)|0x2;
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_wb_sunny[0],
		ARRAY_SIZE(hm2056_reg_wb_sunny));
		break;
	}
	case MSM_CAMERA_WB_MODE_FLUORESCENT: {
		//hm2056_reg_wb_office[0] .reg_data = hm2056_i2c_read_register(s_ctrl,0x5180)|0x2;
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_wb_office[0],
		ARRAY_SIZE(hm2056_reg_wb_office));
		break;
	}
	case MSM_CAMERA_WB_MODE_CLOUDY_DAYLIGHT: {
		//hm2056_reg_wb_cloudy[0] .reg_data = hm2056_i2c_read_register(s_ctrl,0x5180)|0x2;
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_wb_cloudy[0],
		ARRAY_SIZE(hm2056_reg_wb_cloudy));
		break;
	}
	default:
	{
		//hm2056_reg_wb_auto[0] .reg_data = hm2056_i2c_read_register(s_ctrl,0x5180)&0xfd;
		hm2056_i2c_write_table(s_ctrl, &hm2056_reg_wb_auto[0],
		ARRAY_SIZE(hm2056_reg_wb_auto));
	}
	}
}
#if 0
static int  setshutter = 0;
void hm2056_Set_Shutter(uint16_t iShutter)
{
	CDBG(" hm2056_Set_Shutter\r\n");
} /* Set_hm2056_Shutter */
int  hm2056_Read_Shutter(void)
{
	int shutter=0;
	CDBG(" hm2056_Read_Shutter  \r\n");
	return shutter;
} /* hm2056_read_shutter */

void hm2056_AfterSnapshot(void)
{
}

void hm2056_BeforeSnapshot(void)
{
}
#endif
int32_t hm2056_sensor_config(struct msm_sensor_ctrl_t *s_ctrl,
  void __user *argp)
{
	struct sensorb_cfg_data *cdata = (struct sensorb_cfg_data *)argp;
	long rc = 0;
	int32_t i = 0;
	mutex_lock(s_ctrl->msm_sensor_mutex);
	
	//CDBG("%s:%d %s cfgtype = %d\n", __func__, __LINE__,
	//	s_ctrl->sensordata->sensor_name, cdata->cfgtype);
	
	switch (cdata->cfgtype) {
	case CFG_GET_SENSOR_INFO:
		memcpy(cdata->cfg.sensor_info.sensor_name,
			s_ctrl->sensordata->sensor_name,
			sizeof(cdata->cfg.sensor_info.sensor_name));
		
		cdata->cfg.sensor_info.session_id =
			s_ctrl->sensordata->sensor_info->session_id;
		
		for (i = 0; i < SUB_MODULE_MAX; i++) {
			cdata->cfg.sensor_info.subdev_id[i] =
				s_ctrl->sensordata->sensor_info->subdev_id[i];
		}
		
		CDBG("%s:%d sensor name %s\n", __func__, __LINE__,
			cdata->cfg.sensor_info.sensor_name);
		//CDBG("%s:%d session id %d\n", __func__, __LINE__,
		//	cdata->cfg.sensor_info.session_id);

		//for (i = 0; i < SUB_MODULE_MAX; i++) {
		//	CDBG("%s:%d subdev_id[%d] %d\n", __func__, __LINE__, i,
		//		cdata->cfg.sensor_info.subdev_id[i]);
		//}
		break;
	case CFG_SET_INIT_SETTING:
		CDBG("init setting");
		
		hm2056_i2c_write_table(s_ctrl,
				&hm2056_recommend_settings[0],
				ARRAY_SIZE(hm2056_recommend_settings));
		
		CDBG("init setting X");
		break;
	case CFG_SET_RESOLUTION: {
		int val = 0;
/*
		uint16_t a = 0;
		uint16_t b = 0;
		uint16_t c = 0;
		uint16_t d = 0;
*/
		if (copy_from_user(&val, (void *)cdata->cfg.setting, sizeof(int))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}
		
		//CDBG("val=%d\n" , val);

		if(val == 0)
		{
			CDBG("UXGA\n" );
                
			hm2056_i2c_write_table(s_ctrl,
				&hm2056_uxga_settings[0],
				ARRAY_SIZE(hm2056_uxga_settings));
		}
		else if(val == 3)
		{
                        CDBG("1024 * 768\n" );
                        hm2056_i2c_write_table(s_ctrl,
                                &hm2056_1024_768_settings[0],
                                ARRAY_SIZE(hm2056_1024_768_settings));
                }
		else if(val == 2)
		{
			CDBG("720P\n" );
			hm2056_i2c_write_table(s_ctrl,
				&hm2056_720p_settings[0],
				ARRAY_SIZE(hm2056_720p_settings));
		}

                else if(val == 1)
                {
                        CDBG("SVGA\n" );
                        hm2056_i2c_write_table(s_ctrl,
                                &hm2056_svga_settings[0],
                                ARRAY_SIZE(hm2056_svga_settings));
                }

/*
		a = hm2056_i2c_read_register(s_ctrl,0x0006);
		b = hm2056_i2c_read_register(s_ctrl,0x000D);
		c = hm2056_i2c_read_register(s_ctrl,0x000E);
		d = hm2056_i2c_read_register(s_ctrl,0x0131);



		CDBG("0x0006 (0x%x)\n", a);
		CDBG("0x000D (0x%x)\n", b);
		CDBG("0x000E (0x%x)\n", c);
		CDBG("0x0131 (0x%x)\n", d);

		CDBG("0x05E4 (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x05E4));
		CDBG("0x05E5 (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x05E5));
		CDBG("0x05E6 (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x05E6));
		CDBG("0x05E7 (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x05E7));
		CDBG("0x05E8 (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x05E8));
		CDBG("0x05E9 (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x05E9));
		CDBG("0x05EA (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x05EA));
		CDBG("0x05EB (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x05EB));
		CDBG("0x0B3E (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x0B3E));
		CDBG("0x0B08 (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x0B08));
		CDBG("0x0B09 (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x0B09));
		CDBG("0x0B0A (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x0B0A));
		CDBG("0x0B0B (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x0B0B));
*/
/*
                CDBG("0x0015 (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x0015));
                CDBG("0x0016 (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x0016));
                CDBG("0x001D (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x001D));
                CDBG("0x0018 (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x0018));
		CDBG("0x000F (0x%x)\n", hm2056_i2c_read_register(s_ctrl,0x000F));
*/
		break;
	}
	
	case CFG_SET_STOP_STREAM:
		//CDBG("%s %d stop stream\n",__func__,__LINE__);
		hm2056_i2c_write_table(s_ctrl,
			&hm2056_stop_settings[0],
			ARRAY_SIZE(hm2056_stop_settings));
		//usleep(10*1000);
		break;
		
	case CFG_SET_START_STREAM:
		//usleep (100);
		//CDBG("%s %d start stream\n",__func__,__LINE__);
		hm2056_i2c_write_table(s_ctrl,
			&hm2056_start_settings[0],
			ARRAY_SIZE(hm2056_start_settings));
		//usleep(10*1000);
		break;
		
	case CFG_GET_SENSOR_INIT_PARAMS:
		cdata->cfg.sensor_init_params.modes_supported =
			s_ctrl->sensordata->sensor_info->modes_supported;
		
		cdata->cfg.sensor_init_params.position =
			s_ctrl->sensordata->sensor_info->position;
		
		cdata->cfg.sensor_init_params.sensor_mount_angle =
			s_ctrl->sensordata->sensor_info->sensor_mount_angle;

		CDBG("%s:%d init params mode %d pos %d mount %d\n", __func__,
			__LINE__,
			cdata->cfg.sensor_init_params.modes_supported,
			cdata->cfg.sensor_init_params.position,
			cdata->cfg.sensor_init_params.sensor_mount_angle);
		break;


	case CFG_SET_SLAVE_INFO: {
		struct msm_camera_sensor_slave_info sensor_slave_info;
		struct msm_sensor_power_setting_array *power_setting_array;
		int slave_index = 0;

		CDBG("%s [Cifese] CFG_SET_SLAVE_INFO\n", __func__);

		if (copy_from_user(&sensor_slave_info,
				(void *)cdata->cfg.setting,
				sizeof(struct msm_camera_sensor_slave_info))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}
	
		/* Update sensor slave address */
		if (sensor_slave_info.slave_addr) {
		s_ctrl->sensor_i2c_client->cci_client->sid =
			sensor_slave_info.slave_addr >> 1;
		}

		/* Update sensor address type */
		s_ctrl->sensor_i2c_client->addr_type =
			sensor_slave_info.addr_type;

		/* Update power up / down sequence */
		s_ctrl->power_setting_array =
			sensor_slave_info.power_setting_array;
		
		power_setting_array = &s_ctrl->power_setting_array;
		power_setting_array->power_setting = kzalloc(
		power_setting_array->size * sizeof(struct msm_sensor_power_setting), GFP_KERNEL);
		
		if (!power_setting_array->power_setting) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -ENOMEM;
			break;
		}
		
		if (copy_from_user(power_setting_array->power_setting,
					(void *)sensor_slave_info.power_setting_array.power_setting,
					power_setting_array->size * sizeof(struct msm_sensor_power_setting))) {
			kfree(power_setting_array->power_setting);
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}
		
		//s_ctrl->free_power_setting = true;
		CDBG("%s sensor id %x\n", __func__, sensor_slave_info.slave_addr);
		CDBG("%s sensor addr type %d\n", __func__, sensor_slave_info.addr_type);
		CDBG("%s sensor reg %x\n", __func__, sensor_slave_info.sensor_id_info.sensor_id_reg_addr);
		CDBG("%s sensor id %x\n", __func__, sensor_slave_info.sensor_id_info.sensor_id);
		
		for (slave_index = 0; slave_index < power_setting_array->size; slave_index++) {
			CDBG("%s i %d power setting %d %d %ld %d\n", __func__,
					slave_index,
					power_setting_array->power_setting[slave_index].
					seq_type,
					power_setting_array->power_setting[slave_index].
					seq_val,
					power_setting_array->power_setting[slave_index].
					config_val,
					power_setting_array->power_setting[slave_index].
					delay);
		}
		
		kfree(power_setting_array->power_setting);
		break;
	}
	case CFG_WRITE_I2C_ARRAY: {
		struct msm_camera_i2c_reg_setting conf_array;
		struct msm_camera_i2c_reg_array *reg_setting = NULL;

		if (copy_from_user(&conf_array,
				(void *)cdata->cfg.setting,
				sizeof(struct msm_camera_i2c_reg_setting))) { 
		pr_err("%s:%d failed\n", __func__, __LINE__);
		rc = -EFAULT;
		break;
		}

		reg_setting = kzalloc(conf_array.size * (sizeof(struct msm_camera_i2c_reg_array)), GFP_KERNEL);
		
		if (!reg_setting) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -ENOMEM;
			break;
		}
		
		if (copy_from_user(reg_setting, 
				(void *)conf_array.reg_setting,
				conf_array.size * sizeof(struct msm_camera_i2c_reg_array))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			kfree(reg_setting);
			rc = -EFAULT;
			break;
		}

		conf_array.reg_setting = reg_setting;
		rc = s_ctrl->sensor_i2c_client->i2c_func_tbl->i2c_write_table(
			s_ctrl->sensor_i2c_client, &conf_array);
		kfree(reg_setting);
		break;
	}
	case CFG_WRITE_I2C_SEQ_ARRAY: {
		struct msm_camera_i2c_seq_reg_setting conf_array;
		struct msm_camera_i2c_seq_reg_array *reg_setting = NULL;

		if (copy_from_user(&conf_array,
				(void *)cdata->cfg.setting,
				sizeof(struct msm_camera_i2c_seq_reg_setting))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}

		reg_setting = kzalloc(conf_array.size * (sizeof(struct msm_camera_i2c_seq_reg_array)), GFP_KERNEL);
	
		if (!reg_setting) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -ENOMEM;
			break;
		}
		
		if (copy_from_user(reg_setting, (void *)conf_array.reg_setting,
					conf_array.size * sizeof(struct msm_camera_i2c_seq_reg_array))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			kfree(reg_setting);
			rc = -EFAULT;
			break;
		}

		conf_array.reg_setting = reg_setting;
		rc = s_ctrl->sensor_i2c_client->i2c_func_tbl->
			i2c_write_seq_table(s_ctrl->sensor_i2c_client,
			&conf_array);
		kfree(reg_setting);
		break;
	}

	case CFG_POWER_UP:
		if (s_ctrl->func_tbl->sensor_power_up)
			rc = s_ctrl->func_tbl->sensor_power_up(s_ctrl);
		else
			rc = -EFAULT;
		break;

	case CFG_POWER_DOWN:
		if (s_ctrl->func_tbl->sensor_power_down)
			rc = s_ctrl->func_tbl->sensor_power_down(s_ctrl);
		else
			rc = -EFAULT;
		break;

	case CFG_SET_STOP_STREAM_SETTING: {
		struct msm_camera_i2c_reg_setting *stop_setting = &s_ctrl->stop_setting;
		struct msm_camera_i2c_reg_array *reg_setting = NULL;
		
		if (copy_from_user(stop_setting, (void *)cdata->cfg.setting,
				sizeof(struct msm_camera_i2c_reg_setting))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}

		reg_setting = stop_setting->reg_setting;
		stop_setting->reg_setting = kzalloc(stop_setting->size * (sizeof(struct msm_camera_i2c_reg_array)), GFP_KERNEL);
	
		if (!stop_setting->reg_setting) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -ENOMEM;
			break;
		}
		
		if (copy_from_user(stop_setting->reg_setting,
				(void *)reg_setting, stop_setting->size *
				sizeof(struct msm_camera_i2c_reg_array))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			kfree(stop_setting->reg_setting);
			stop_setting->reg_setting = NULL;
			stop_setting->size = 0;
			rc = -EFAULT;
			break;
		}
		break;
	}
	
	case CFG_SET_SATURATION: {
		int32_t sat_lev;
		
		if (copy_from_user(&sat_lev, (void *)cdata->cfg.setting, sizeof(int32_t))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}
	
		//pr_info("%s: Saturation Value is %d", __func__, sat_lev);
		//CDBG("%s: Saturation Value is %d", __func__, sat_lev);
		hm2056_set_saturation(s_ctrl, sat_lev);
		break;
	}
	case CFG_SET_SHARPNESS: {
		int32_t shp_lev;
		
		if (copy_from_user(&shp_lev, (void *)cdata->cfg.setting, sizeof(int32_t))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}
		
		//pr_debug("%s: Sharpness Value is %d", __func__, shp_lev);
		//CDBG("%s: Sharpness Value is %d", __func__, shp_lev);
		hm2056_set_sharpness(s_ctrl, shp_lev);
		break;
	}
  	case CFG_SET_CONTRAST: {
		int32_t con_lev;
		
		if (copy_from_user(&con_lev, (void *)cdata->cfg.setting, sizeof(int32_t))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}
		
		//pr_debug("%s: Contrast Value is %d", __func__, con_lev);
		//CDBG("%s: Contrast Value is %d", __func__, con_lev);
		hm2056_set_contrast(s_ctrl, con_lev);
		break;
	}
  	case CFG_SET_BRIGHTNESS: {
		int32_t br_lev;
		
		if (copy_from_user(&br_lev, (void *)cdata->cfg.setting, sizeof(int32_t))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}	
		//pr_debug("%s: BRIGHTNESS Value is %d", __func__, br_lev);
		//CDBG("%s: BRIGHT Value is %d", __func__, br_lev);
		hm2056_set_brightness(s_ctrl, br_lev);
		break;
	}
        
	case CFG_SET_EXPOSURE_COMPENSATION: {
		int32_t ec_lev;
		
		if (copy_from_user(&ec_lev, (void *)cdata->cfg.setting, sizeof(int32_t))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}
		
		//pr_debug("%s: Exposure compensation Value is %d", __func__, ec_lev);
		//CDBG("%s: Exposure compensation Value is %d", __func__, ec_lev);
		hm2056_set_exposure_compensation(s_ctrl, ec_lev);
		break;
	}
	case CFG_SET_EFFECT: {
		int32_t effect_mode;

		if (copy_from_user(&effect_mode, (void *)cdata->cfg.setting, sizeof(int32_t))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}
		
		//pr_debug("%s: Effect mode is %d", __func__, effect_mode);
		//CDBG("%s: Effect mode is %d", __func__, effect_mode);
		hm2056_set_effect(s_ctrl, effect_mode);
		break;
	}
	case CFG_SET_WHITE_BALANCE: {
		int32_t wb_mode;
		
		if (copy_from_user(&wb_mode, (void *)cdata->cfg.setting, sizeof(int32_t))) {
			pr_err("%s:%d failed\n", __func__, __LINE__);
			rc = -EFAULT;
			break;
		}
	
		//pr_debug("%s: white balance is %d", __func__, wb_mode);
		//CDBG("%s: white balance is %d", __func__, wb_mode);
		hm2056_set_white_balance_mode(s_ctrl, wb_mode);
		break;
	}
	default:
		rc = -EFAULT;
		break;
	}

	mutex_unlock(s_ctrl->msm_sensor_mutex);

	//pr_err("%s:%d rc = %ld\n", __func__, __LINE__ , rc);

	rc =0;

	return rc;
}

static struct msm_sensor_fn_t hm2056_sensor_func_tbl = {
	.sensor_config = hm2056_sensor_config,
	.sensor_power_up = msm_sensor_power_up,
	.sensor_power_down = msm_sensor_power_down,
	.sensor_match_id = msm_sensor_match_id,
};

static struct msm_sensor_ctrl_t hm2056_s_ctrl = {
	.sensor_i2c_client = &hm2056_sensor_i2c_client,
	.power_setting_array.power_setting = hm2056_power_setting,
	.power_setting_array.size = ARRAY_SIZE(hm2056_power_setting),
	.msm_sensor_mutex = &hm2056_mut,
	.sensor_v4l2_subdev_info = hm2056_subdev_info,
	.sensor_v4l2_subdev_info_size = ARRAY_SIZE(hm2056_subdev_info),
	.func_tbl = &hm2056_sensor_func_tbl,
};

module_init(hm2056_init_module);
module_exit(hm2056_exit_module);
MODULE_DESCRIPTION("hm2056 2MP YUV sensor driver");
MODULE_LICENSE("GPL v2");

